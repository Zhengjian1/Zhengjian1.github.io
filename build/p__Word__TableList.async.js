(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"+9je":function(e,t,a){e.exports={tableList:"antd-pro-pages-word-table-list-tableList",tableListOperator:"antd-pro-pages-word-table-list-tableListOperator",tableListForm:"antd-pro-pages-word-table-list-tableListForm",submitButtons:"antd-pro-pages-word-table-list-submitButtons",checked:"antd-pro-pages-word-table-list-checked",time:"antd-pro-pages-word-table-list-time",required:"antd-pro-pages-word-table-list-required",timePick:"antd-pro-pages-word-table-list-timePick"}},"9n44":function(e,t,a){"use strict";a.r(t);var n,r,i,l,o,d,s,c=a("jehZ"),m=a.n(c),u=(a("IzEo"),a("bx4M")),p=(a("+L6B"),a("2/Rp")),h=(a("giR+"),a("fyUT")),f=a("Y/ft"),b=a.n(f),g=(a("2qtc"),a("kLXV")),y=(a("14J3"),a("BMrR")),E=(a("sRBo"),a("kaz8")),v=(a("jCWc"),a("kPKH")),k=(a("5NDa"),a("5rEg")),w=a("p0pE"),x=a.n(w),C=a("2Taf"),V=a.n(C),S=a("vZ4D"),F=a.n(S),I=a("l4Ni"),R=a.n(I),T=a("ujKo"),M=a.n(T),D=a("MhPg"),B=a.n(D),L=(a("iQDF"),a("+eQT")),N=(a("y8nQ"),a("Vl3Y")),P=a("q1tI"),A=a.n(P),Y=a("MuoO"),O=a("CkN6"),q=a("zHco"),H=a("+n12"),W=a("+9je"),j=a.n(W),K=N["a"].Item,z=L["a"].RangePicker,J=(n=N["a"].create(),n((i=function(e){function t(){var e,a;V()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=R()(this,(e=M()(t)).call.apply(e,[this].concat(r))),a.state={checkbox:!1,modal2Visible:!1,id:""},a.okHandle=function(){var e=a.props,t=e.form,n=e.handleAdd,r=a.state.checkbox,i={expireTimeBegin:"",expireTimeEnd:""};t.validateFields(function(e,a){if(!e){t.resetFields();var l={};if(r)l=x()({},a,i);else{var o=a["range-picker"],d=o[0].format("YYYY-MM-DD HH:mm:ss"),s=o[1].format("YYYY-MM-DD HH:mm:ss");i={expireTimeBegin:d,expireTimeEnd:s},l=x()({},a,i)}n(l)}})},a.onCheckBox=function(e){a.setState({checkbox:e.target.checked})},a}return B()(t,e),F()(t,[{key:"render",value:function(){var e=this.props,t=e.modalVisible,a=e.form,n=e.handleModalVisible,r=this.state.checkbox;return A.a.createElement(g["a"],{destroyOnClose:!0,title:"\u65b0\u5efa\u89c4\u5219",visible:t,maskClosable:!1,onOk:this.okHandle,onCancel:function(){return n()}},A.a.createElement(K,{label:"\u5173\u952e\u8bcd"},a.getFieldDecorator("desc",{rules:[{required:!0,message:"\u5173\u952e\u8bcd\u4e0d\u80fd\u4e3a\u7a7a"}]})(A.a.createElement(k["a"].TextArea,{placeholder:"\u6211|\u4f60|\u4ed6,\u5979|\u5b83 -|\u662f\u8bcd\u5206\u9694\uff0c\u201c\uff0c\u201d\u662f\u7ec4\u5408\u8bcd\u5206\u9694",style:{"min-height":"200px"}}))),A.a.createElement(y["a"],null,A.a.createElement(K,null,A.a.createElement(v["a"],{span:4,className:j.a.time},A.a.createElement("span",{className:j.a.required},"*"),"\u6709\u6548\u671f:"),A.a.createElement(v["a"],{span:12},r?A.a.createElement(z,{value:[null,null],disabled:!0}):a.getFieldDecorator("range-picker",{rules:[{type:"array",required:!0,message:"\u8bf7\u9009\u62e9\u65f6\u95f4!"}]})(A.a.createElement(z,{className:j.a.timePick}))),A.a.createElement(v["a"],{span:4,className:j.a.checked},"\xa0\xa0\xa0",A.a.createElement(E["a"],{onChange:this.onCheckBox},"\u6c38\u4e45")))))}}]),t}(P["PureComponent"]),r=i))||r),Q=A.a.createContext(),Z=function(e){var t=e.form,a=(e.index,b()(e,["form","index"]));return A.a.createElement(Q.Provider,{value:t},A.a.createElement("tr",a))},U=N["a"].create()(Z),X=function(e){function t(){var e,a;V()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=R()(this,(e=M()(t)).call.apply(e,[this].concat(r))),a.getInput=function(){var e=a.props.inputType;return"number"===e?A.a.createElement(h["a"],null):A.a.createElement(k["a"],null)},a}return B()(t,e),F()(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.editing,n=t.dataIndex,r=t.title,i=(t.inputType,t.record),l=(t.index,b()(t,["editing","dataIndex","title","inputType","record","index"]));return A.a.createElement(Q.Consumer,null,function(t){var o=t.getFieldDecorator;return A.a.createElement("td",l,a?A.a.createElement(K,{style:{margin:0}},o(n,{rules:[{required:!0,message:"Please Input ".concat(r,"!")}],initialValue:i[n]})(e.getInput())):l.children)})}}]),t}(A.a.Component),G={body:{row:U,cell:X}},$=(l=Object(Y["connect"])(function(e){var t=e.word,a=e.loading;return{word:t,loading:a.models.rule}}),o=N["a"].create(),l(d=o((s=function(e){function t(){var e,a;V()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=R()(this,(e=M()(t)).call.apply(e,[this].concat(r))),a.myRef=A.a.createRef(),a.state={dictId:a.props.match.params.id,modalVisible:!1,expandForm:!1,selectedRows:[],formValues:{},editingKey:""},a.columns=[{title:"id",dataIndex:"id",key:"id",editable:!0,sorter:function(e,t){return e.id-t.id}},{title:"\u5173\u952e\u8bcd",dataIndex:"word",editable:!0},{title:"\u6dfb\u52a0\u4eba",dataIndex:"operator",editable:!0},{title:"\u6709\u6548\u65f6\u95f4",dataIndex:"lastTime",editable:!0},{title:"\u64cd\u4f5c",render:function(e,t){a.isEditing(t);return A.a.createElement(P["Fragment"],null,A.a.createElement("a",{onClick:function(){return a.handleDel(t)}},"\u5220\u9664"))}}],a.handleDel=function(e){a.setModal2Visible(!0,e.id)},a.handleBatchDel=function(){var e=a.state.selectedRows,t=[];e.map(function(e){return t.push(e.id)}),a.setModal2Visible(!0,t)},a.deleteWork=function(e){var t=a.props.dispatch,n=Array.isArray(e)?e:[e];t({type:"word/deleteWord",payload:{idList:n,clearRow:a.myRef.current.cleanSelectedKeys,onClose:function(){return a.setModal2Visible(!1)}}})},a.handleStandardTableChange=function(e){var t=a.props.dispatch,n={current:e.current,pageSize:e.pageSize};t({type:"word/getPageData",payload:n})},a.handleFormReset=function(){var e=a.props.form;e.resetFields(),a.setState({formValues:{}})},a.toggleForm=function(){var e=a.state.expandForm;a.setState({expandForm:!e})},a.handleMenuClick=function(e){var t=a.props.dispatch,n=a.state.selectedRows;if(0!==n.length)switch(e.key){case"remove":t({type:"word/remove",payload:{key:n.map(function(e){return e.key})},callback:function(){a.setState({selectedRows:[]})}});break;default:break}},a.handleSelectRows=function(e){a.setState({selectedRows:e})},a.handleSearch=function(e){e.preventDefault();var t=a.props,n=t.dispatch,r=t.form;r.validateFields(function(e,t){if(!e){var r=x()({},t);a.setState({formValues:r}),n({type:"word/seachWord",payload:r})}})},a.handleModalVisible=function(e){a.setState({modalVisible:!!e})},a.handleAdd=function(e){var t=a.state.dictId,n=a.props.dispatch;n({type:"word/addWord",payload:{expireTimeBegin:e.expireTimeBegin,expireTimeEnd:e.expireTimeEnd,word:e.desc,dictId:t,onClose:a.handleModalVisible}})},a.isEditing=function(e){var t=a.state.editingKey;return e.key===t},a.cancel=function(){a.setState({editingKey:""})},a.setModal2Visible=function(e,t){a.setState({modal2Visible:e,id:t})},a}return B()(t,e),F()(t,[{key:"componentDidMount",value:function(){var e=this.state.dictId,t=this.props.dispatch;t({type:"word/getWordData",payload:{dictId:e,key:"id",type:"desc"}})}},{key:"save",value:function(e){var t=this;e.validateFields(function(e,a){if(!e){var n=t.props.dispatch,r=t.state.dictId;n({type:"word/addWord",payload:{expireTimeBegin:"",expireTimeEnd:"",dictId:r,word:a.word,onClose:function(){return t.edit("")}}})}})}},{key:"edit",value:function(e){this.setState({editingKey:e})}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return A.a.createElement(N["a"],{onSubmit:this.handleSearch,layout:"inline"},A.a.createElement(y["a"],{gutter:{md:8,lg:24,xl:48}},A.a.createElement(v["a"],{md:8,sm:24},A.a.createElement(K,{label:"\u5173\u952e\u8bcd"},e("word")(A.a.createElement(k["a"],{placeholder:"\u8bf7\u8f93\u5165",allowClear:!0})))),A.a.createElement(v["a"],{md:8,sm:24},A.a.createElement(K,{label:"\u6dfb\u52a0\u4eba"},e("operator")(A.a.createElement(k["a"],{placeholder:"\u8bf7\u8f93\u5165",allowClear:!0})))),A.a.createElement(v["a"],{md:8,sm:24},A.a.createElement("span",{className:j.a.submitButtons},A.a.createElement(p["a"],{type:"primary",htmlType:"submit"},"\u641c\u7d22"),A.a.createElement(p["a"],{style:{marginLeft:8},onClick:this.handleFormReset},"\u6e05\u7a7a")))))}},{key:"render",value:function(){var e=this,t=this.props.word,a=t.data,n=t.isLoading,r=this.state,i=r.selectedRows,l=r.modalVisible,o=r.modal2Visible,d=r.id,s=Object(H["a"])("title"),c={handleAdd:this.handleAdd,handleModalVisible:this.handleModalVisible},h=this.columns.map(function(t){return t.editable?x()({},t,{onCell:function(a){return{record:a,inputType:"age"===t.dataIndex?"number":"text",dataIndex:t.dataIndex,title:t.title,editing:e.isEditing(a)}}}):t});return A.a.createElement(q["a"],{title:s},A.a.createElement(g["a"],{title:"\u63d0\u793a",centered:!0,visible:o,onOk:function(){return e.deleteWork(d)},onCancel:function(){return e.setModal2Visible(!1)}},A.a.createElement("p",null,"\u786e\u8ba4\u5220\u9664\u8be5\u5173\u952e\u8bcd\u5417\uff1f")),A.a.createElement(u["a"],{bordered:!1},A.a.createElement("div",{className:j.a.tableList},A.a.createElement("div",{className:j.a.tableListForm},this.renderSimpleForm()),A.a.createElement("div",{className:j.a.tableListOperator},A.a.createElement(p["a"],{icon:"plus",type:"primary",onClick:function(){return e.handleModalVisible(!0)}},"\u65b0\u5efa"),i.length>0&&A.a.createElement("span",null,A.a.createElement(p["a"],{onClick:this.handleBatchDel},"\u6279\u91cf\u5220\u9664"))),A.a.createElement(O["a"],{components:G,selectedRows:i,loading:n,data:a,columns:h,onSelectRow:this.handleSelectRows,onChange:this.handleStandardTableChange,ref:this.myRef}))),A.a.createElement(J,m()({},c,{modalVisible:l})))}}]),t}(P["PureComponent"]),d=s))||d)||d);t["default"]=$}}]);