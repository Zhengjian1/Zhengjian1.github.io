{"version":3,"sources":["../node_modules/qr.js/lib/mode.js","../node_modules/qr.js/lib/ErrorCorrectLevel.js","../node_modules/qr.js/lib/Polynomial.js","../node_modules/qr.js/lib/math.js","../node_modules/qrcode.react/lib/index.js","../node_modules/qr.js/lib/QRCode.js","../node_modules/qr.js/lib/8BitByte.js","../node_modules/qr.js/lib/RSBlock.js","../node_modules/qr.js/lib/BitBuffer.js","../node_modules/qr.js/lib/util.js","../node_modules/@better-scroll/core/dist/core.esm.js","../node_modules/@better-scroll/nested-scroll/dist/nested-scroll.esm.js","../node_modules/antd/es/popover/index.js"],"names":["module","exports","MODE_NUMBER","MODE_ALPHA_NUM","MODE_8BIT_BYTE","MODE_KANJI","L","M","Q","H","math","require","QRPolynomial","num","shift","undefined","length","Error","offset","this","Array","i","prototype","get","index","getLength","multiply","e","j","gexp","glog","mod","ratio","QRMath","n","LOG_TABLE","EXP_TABLE","_typeof","obj","Symbol","iterator","constructor","_extends","Object","assign","target","arguments","source","key","hasOwnProperty","call","apply","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","value","_setPrototypeOf","p","React","QRCodeImpl","ErrorCorrectLevel","convertStr","str","out","charcode","charCodeAt","String","fromCharCode","DEFAULT_PROPS","size","level","bgColor","fgColor","includeMargin","generatePath","modules","margin","ops","row","y","start","cell","x","concat","join","excavateModules","excavation","slice","map","h","w","getImageSettings","cells","imageSettings","numCells","defaultSize","Math","floor","scale","width","height","excavate","floorX","floorY","ceil","SUPPORTS_PATH2D","Path2D","addPath","QRCodeCanvas","_React$PureComponent","_getPrototypeOf2","_this","_len","args","_key","imgLoaded","setState","update","_this$props","qrcode","addData","make","_canvas","canvas","ctx","getContext","calculatedImageSettings","pixelRatio","window","devicePixelRatio","fillStyle","fillRect","fill","rdx","cdx","state","_image","drawImage","_this2","_this$props2","style","otherProps","canvasStyle","img","imgSrc","src","createElement","display","onLoad","handleImageLoad","ref","_ref","Fragment","_ref2","PureComponent","QRCodeSVG","_React$PureComponent2","_this$props3","image","xlinkHref","preserveAspectRatio","fgPath","shapeRendering","viewBox","d","QRCode","renderAs","Component","defaultProps","BitByte","RSBlock","BitBuffer","util","Polynomial","typeNumber","errorCorrectLevel","moduleCount","dataCache","dataList","proto","data","newData","isDark","col","getModuleCount","rsBlocks","getRSBlocks","buffer","totalDataCount","dataCount","put","mode","getLengthInBits","write","makeImpl","getBestMaskPattern","test","maskPattern","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","r","c","minLostPoint","pattern","lostPoint","getLostPoint","createMovieClip","target_mc","instance_name","depth","qr_mc","createEmptyMovieClip","beginFill","moveTo","lineTo","endFill","pos","getPatternPosition","bits","getBCHTypeNumber","getBCHTypeInfo","inc","bitIndex","byteIndex","dark","getMask","PAD0","PAD1","putBit","createBytes","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","ecCount","totalCount","max","rsPoly","getErrorCorrectPolynomial","modPoly","modIndex","totalCodeCount","QR8bitByte","ECL","QRRSBlock","RS_BLOCK_TABLE","rsBlock","getRsBlockTable","list","count","QRBitBuffer","bufIndex","bit","Mode","QRMaskPattern","QRUtil","PATTERN_POSITION_TABLE","G15","G18","G15_MASK","getBCHDigit","digit","errorCorrectLength","a","type","qrCode","sameCount","darkCount","abs","extendStatics","b","__extends","__","__assign","t","s","__spreadArrays","il","k","jl","propertiesConfig","sourceKey","warn","msg","console","error","inBrowser","ua","navigator","userAgent","toLowerCase","isWeChatDevTools","isAndroid","isIOSBadVersion","matches","exec","parts","split","item","parseInt","getNow","performance","now","timing","navigationStart","Date","extend","isUndef","v","elementStyle","document","vendor","_i","transformNames_1","prefixStyle","charAt","toUpperCase","substr","getElement","el","querySelector","addEvent","fn","capture","addEventListener","passive","removeEvent","removeEventListener","left","top","offsetLeft","offsetTop","offsetParent","transform","transition","hasPerspective","hasTouch","hasTransition","transitionTimingFunction","transitionDuration","transitionDelay","transformOrigin","transitionEnd","transitionProperty","eventTypeMap","touchstart","touchmove","touchend","mousedown","mousemove","mouseup","getRect","SVGElement","rect","getBoundingClientRect","offsetWidth","offsetHeight","preventDefaultExceptionFn","exceptions","tagExceptionFn","click","event","eventSource","changedTouches","ev","posSrc","screenX","screenY","clientX","clientY","pressedKeysMap","ctrlKey","shiftKey","altKey","metaKey","MouseEvent","bubbles","cancelable","createEvent","initEvent","forwardedTouchEvent","_constructed","dispatchEvent","ease","swipe","swipeBounce","bounce","windowCompat","noop","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","callback","setTimeout","interval","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","id","clearTimeout","noop$1","val","sharedPropertyDefinition","set","EventEmitter","names","events","eventTypes","registerType","on","context","hasType","once","magic","off","splice","trigger","ret","len","eventsCopy","event_1","destroy","types","_","JSON","stringify","EventRegister","wrapper","addDOMEvents","removeDOMEvents","handleDOMEvents","eventOperation","name","handleEvent","eventType","some","handler","OptionsConstructor","_super","startX","startY","scrollX","scrollY","freeScroll","directionLockThreshold","eventPassthrough","dblclick","tap","bottom","right","bounceTime","momentum","momentumLimitTime","momentumLimitDistance","swipeTime","swipeBounceTime","deceleration","flickLimitTime","flickLimitDistance","resizePolling","probeType","stopPropagation","preventDefault","preventDefaultException","tagName","tagException","HWCompositing","useTransition","bindToWrapper","bindToTarget","disableMouse","disableTouch","autoBlur","autoEndDistance","outOfBoundaryDampingFactor","specifiedIndexAsContent","merge","options","resolveBounce","process","translateZ","bounceOptions","DEFAULT_BOUNCE","ActionsHandler","hooks","_a","wrapperEvents","targetEvents","shouldRegisterTouch","shouldRegisterMouse","bind","move","end","wrapperEventRegister","targetEventRegister","beforeHandler","setInitiated","initiated","_eventType","button","beforeStart","point","touches","pointX","pageX","pointY","pageY","deltaX","deltaY","scrollLeft","documentElement","pageXOffset","body","scrollTop","pageYOffset","pX","pY","clientWidth","clientHeight","setContent","content","translaterMetaData","Translater","getComputedPosition","matrix","getComputedStyle","translate","transformStyle","transformFnName","transformFnArgUnit","transformFnArg","beforeTranslate","Base","translater","timer","endPoint","setPending","pending","setForceStopped","forceStopped","stop","Transition","startProbe","probe","transitionTime","time","easing","timeFunction","startPoint","easingFn","_reflow","doStop","beforeForceStop","forceStop","callStop","Animation","animate","duration","startTime","destTime","step","newPoint","startValue","endValue","_b","_c","_d","Behavior","refresh","dist","setMovingDirection","setDirection","delta","hasScroll","performDampingAlgorithm","movingDirection","direction","dampingFactor","newPos","currentPos","minScrollPos","maxScrollPos","bounces","momentumInfo","absDist","startPos","wrapperSize","destination","current","lowerMargin","upperMargin","distance","speed","momentumData","rate","min","round","updateDirection","absStartPos","position","isWrapperStatic","wrapperRect","contentRect","contentSize","relativeOffset","computeBoundary","resetState","resetStartPos","beforeComputeBoundary","boundary","scrollable","updatePosition","getCurrentPos","checkInBoundary","adjustPosition","inBoundary","roundPos","ignoreHasScroll","updateStartPos","updateAbsStartPos","getAbsDist","PassthroughHandlers","DirectionMap","DirectionLockAction","reset","directionLocked","checkMovingDirection","absDistX","absDistY","computeDirectionLock","handleEventPassthrough","adjustDelta","handleMap","ScrollerActions","scrollBehaviorX","scrollBehaviorY","actionsHandler","animater","directionLockAction","enabled","bindActionsHandler","handleStart","handleMove","handleEnd","handleClick","timestamp","moved","beforeMove","checkMomentum","newX","newY","scrollStart","dispatchScroll","scroll","endTime","beforeEnd","scrollEnd","createBehaviorOptions","bsOptions","extraProp","reduce","prev","cur","bubbling","sourceEvent","targetEvent","Scroller","resizeTimeout","element","animaterOptions","createAnimater","actions","resizeHandler","resize","resizeRegister","registerTransitionEnd","init","bindTranslater","bindAnimater","bindActions","togglePointerEvents","transitionEndRegister","prevPos","updatePositions","resetPosition","beforeScrollStart","touchEnd","scrollCancel","checkClick","checkFlick","flick","meta","swiper","momentumX","momentumY","scrollTo","_dblclick","dblclickTrigged","lastClickTime","delay","eventName","children","pointerEvents","node","isBScrollContainer","contentChanged","beforeRefresh","wrapperOffset","scrollBy","extraTransform","keys_1","isSamePoint","scrollToElement","offsetX","offsetY","targetEle","getOffset","getPos","wrapperPos","scrollBehavior","xInBoundary","yInBoundary","enable","disable","BScrollConstructor","plugins","valid","use","ctor","pluginName","plugin","pluginsMap","applyOrder","scroller","eventBubbling","handleAutoBlur","proxy","applyPlugins","refreshWithoutReset","beforeInitialScrollTo","sort","applyOrderMap","activeElement","blur","lastKey","pop","getProperty","temp","setProperty","propertiesProxy","eventRegister","createBScroll","BScroll","compatibleFeatures","duplicateClick","parentScroll","childScroll","nestedScroll","scrollsPair","parentScrollX","parentScrollY","childScrollX","childScrollY","oppositeScroll","hasHorizontalScroll","hasVerticalScroll","setupData","hasReachLeft","minScrollX","hasReachRight","maxScrollX","hasReachTop","minScrollY","hasReachBottom","maxScrollY","checkBeyondBoundary","NestedScroll","singleton","stores","setup","addHooks","appendBScroll","handleContainRelationship","handleCompatible","teardown","removeBScroll","__parentInfo","outerBS","outerBSWrapper","innerBS","innerBSWrapper","contains","currentDepths","calculateDepths","parent","pairs","availableBScrolls","pair","bs","childNode","parentNode","__rest","Popover","customizePrefixCls","prefixCls","title","getPrefixCls","ConfigContext","Tooltip","overlay","className","getRenderPropValue","getOverlay","displayName","placement","transitionName","mouseEnterDelay","mouseLeaveDelay","overlayStyle"],"mappings":"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","file":"static/js/6.134dd6e8.chunk.js","sourcesContent":["module.exports = {\n\tMODE_NUMBER :\t\t1 << 0,\n\tMODE_ALPHA_NUM : \t1 << 1,\n\tMODE_8BIT_BYTE : \t1 << 2,\n\tMODE_KANJI :\t\t1 << 3\n};\n","module.exports = {\n\tL : 1,\n\tM : 0,\n\tQ : 3,\n\tH : 2\n};\n\n","var math = require('./math');\n\nfunction QRPolynomial(num, shift) {\n\n\tif (num.length == undefined) {\n\t\tthrow new Error(num.length + \"/\" + shift);\n\t}\n\n\tvar offset = 0;\n\n\twhile (offset < num.length && num[offset] == 0) {\n\t\toffset++;\n\t}\n\n\tthis.num = new Array(num.length - offset + shift);\n\tfor (var i = 0; i < num.length - offset; i++) {\n\t\tthis.num[i] = num[i + offset];\n\t}\n}\n\nQRPolynomial.prototype = {\n\n\tget : function(index) {\n\t\treturn this.num[index];\n\t},\n\t\n\tgetLength : function() {\n\t\treturn this.num.length;\n\t},\n\t\n\tmultiply : function(e) {\n\t\n\t\tvar num = new Array(this.getLength() + e.getLength() - 1);\n\t\n\t\tfor (var i = 0; i < this.getLength(); i++) {\n\t\t\tfor (var j = 0; j < e.getLength(); j++) {\n\t\t\t\tnum[i + j] ^= math.gexp(math.glog(this.get(i) ) + math.glog(e.get(j) ) );\n\t\t\t}\n\t\t}\n\t\n\t\treturn new QRPolynomial(num, 0);\n\t},\n\t\n\tmod : function(e) {\n\t\n\t\tif (this.getLength() - e.getLength() < 0) {\n\t\t\treturn this;\n\t\t}\n\t\n\t\tvar ratio = math.glog(this.get(0) ) - math.glog(e.get(0) );\n\t\n\t\tvar num = new Array(this.getLength() );\n\t\t\n\t\tfor (var i = 0; i < this.getLength(); i++) {\n\t\t\tnum[i] = this.get(i);\n\t\t}\n\t\t\n\t\tfor (var i = 0; i < e.getLength(); i++) {\n\t\t\tnum[i] ^= math.gexp(math.glog(e.get(i) ) + ratio);\n\t\t}\n\t\n\t\t// recursive call\n\t\treturn new QRPolynomial(num, 0).mod(e);\n\t}\n};\n\nmodule.exports = QRPolynomial;\n","var QRMath = {\n\n\tglog : function(n) {\n\t\n\t\tif (n < 1) {\n\t\t\tthrow new Error(\"glog(\" + n + \")\");\n\t\t}\n\t\t\n\t\treturn QRMath.LOG_TABLE[n];\n\t},\n\t\n\tgexp : function(n) {\n\t\n\t\twhile (n < 0) {\n\t\t\tn += 255;\n\t\t}\n\t\n\t\twhile (n >= 256) {\n\t\t\tn -= 255;\n\t\t}\n\t\n\t\treturn QRMath.EXP_TABLE[n];\n\t},\n\t\n\tEXP_TABLE : new Array(256),\n\t\n\tLOG_TABLE : new Array(256)\n\n};\n\t\nfor (var i = 0; i < 8; i++) {\n\tQRMath.EXP_TABLE[i] = 1 << i;\n}\nfor (var i = 8; i < 256; i++) {\n\tQRMath.EXP_TABLE[i] = QRMath.EXP_TABLE[i - 4]\n\t\t^ QRMath.EXP_TABLE[i - 5]\n\t\t^ QRMath.EXP_TABLE[i - 6]\n\t\t^ QRMath.EXP_TABLE[i - 8];\n}\nfor (var i = 0; i < 255; i++) {\n\tQRMath.LOG_TABLE[QRMath.EXP_TABLE[i] ] = i;\n}\n\nmodule.exports = QRMath;\n","'use strict';\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar React = require('react');\n\nvar PropTypes = require('prop-types'); // qr.js doesn't handle error level of zero (M) so we need to do it right,\n// thus the deep require.\n\n\nvar QRCodeImpl = require('qr.js/lib/QRCode');\n\nvar ErrorCorrectLevel = require('qr.js/lib/ErrorCorrectLevel'); // TODO: pull this off of the QRCode class type so it matches.\n\n\n// Convert from UTF-16, forcing the use of byte-mode encoding in our QR Code.\n// This allows us to encode Hanji, Kanji, emoji, etc. Ideally we'd do more\n// detection and not resort to byte-mode if possible, but we're trading off\n// a smaller library for a smaller amount of data we can potentially encode.\n// Based on http://jonisalonen.com/2012/from-utf-16-to-utf-8-in-javascript/\nfunction convertStr(str) {\n  var out = '';\n\n  for (var i = 0; i < str.length; i++) {\n    var charcode = str.charCodeAt(i);\n\n    if (charcode < 0x0080) {\n      out += String.fromCharCode(charcode);\n    } else if (charcode < 0x0800) {\n      out += String.fromCharCode(0xc0 | charcode >> 6);\n      out += String.fromCharCode(0x80 | charcode & 0x3f);\n    } else if (charcode < 0xd800 || charcode >= 0xe000) {\n      out += String.fromCharCode(0xe0 | charcode >> 12);\n      out += String.fromCharCode(0x80 | charcode >> 6 & 0x3f);\n      out += String.fromCharCode(0x80 | charcode & 0x3f);\n    } else {\n      // This is a surrogate pair, so we'll reconsitute the pieces and work\n      // from that\n      i++;\n      charcode = 0x10000 + ((charcode & 0x3ff) << 10 | str.charCodeAt(i) & 0x3ff);\n      out += String.fromCharCode(0xf0 | charcode >> 18);\n      out += String.fromCharCode(0x80 | charcode >> 12 & 0x3f);\n      out += String.fromCharCode(0x80 | charcode >> 6 & 0x3f);\n      out += String.fromCharCode(0x80 | charcode & 0x3f);\n    }\n  }\n\n  return out;\n}\n\nvar DEFAULT_PROPS = {\n  size: 128,\n  level: 'L',\n  bgColor: '#FFFFFF',\n  fgColor: '#000000',\n  includeMargin: false\n};\nvar PROP_TYPES = process.env.NODE_ENV !== 'production' ? {\n  value: PropTypes.string.isRequired,\n  size: PropTypes.number,\n  level: PropTypes.oneOf(['L', 'M', 'Q', 'H']),\n  bgColor: PropTypes.string,\n  fgColor: PropTypes.string,\n  includeMargin: PropTypes.bool,\n  imageSettings: PropTypes.shape({\n    src: PropTypes.string.isRequired,\n    height: PropTypes.number.isRequired,\n    width: PropTypes.number.isRequired,\n    excavate: PropTypes.bool,\n    x: PropTypes.number,\n    y: PropTypes.number\n  })\n} : {};\nvar MARGIN_SIZE = 4; // This is *very* rough estimate of max amount of QRCode allowed to be covered.\n// It is \"wrong\" in a lot of ways (area is a terrible way to estimate, it\n// really should be number of modules covered), but if for some reason we don't\n// get an explicit height or width, I'd rather default to something than throw.\n\nvar DEFAULT_IMG_SCALE = 0.1;\n\nfunction generatePath(modules) {\n  var margin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var ops = [];\n  modules.forEach(function (row, y) {\n    var start = null;\n    row.forEach(function (cell, x) {\n      if (!cell && start !== null) {\n        // M0 0h7v1H0z injects the space with the move and drops the comma,\n        // saving a char per operation\n        ops.push(\"M\".concat(start + margin, \" \").concat(y + margin, \"h\").concat(x - start, \"v1H\").concat(start + margin, \"z\"));\n        start = null;\n        return;\n      } // end of row, clean up or skip\n\n\n      if (x === row.length - 1) {\n        if (!cell) {\n          // We would have closed the op above already so this can only mean\n          // 2+ light modules in a row.\n          return;\n        }\n\n        if (start === null) {\n          // Just a single dark module.\n          ops.push(\"M\".concat(x + margin, \",\").concat(y + margin, \" h1v1H\").concat(x + margin, \"z\"));\n        } else {\n          // Otherwise finish the current line.\n          ops.push(\"M\".concat(start + margin, \",\").concat(y + margin, \" h\").concat(x + 1 - start, \"v1H\").concat(start + margin, \"z\"));\n        }\n\n        return;\n      }\n\n      if (cell && start === null) {\n        start = x;\n      }\n    });\n  });\n  return ops.join('');\n} // We could just do this in generatePath, except that we want to support\n// non-Path2D canvas, so we need to keep it an explicit step.\n\n\nfunction excavateModules(modules, excavation) {\n  return modules.slice().map(function (row, y) {\n    if (y < excavation.y || y >= excavation.y + excavation.h) {\n      return row;\n    }\n\n    return row.map(function (cell, x) {\n      if (x < excavation.x || x >= excavation.x + excavation.w) {\n        return cell;\n      }\n\n      return false;\n    });\n  });\n}\n\nfunction getImageSettings(props, cells) {\n  var imageSettings = props.imageSettings,\n      size = props.size,\n      includeMargin = props.includeMargin;\n\n  if (imageSettings == null) {\n    return null;\n  }\n\n  var margin = includeMargin ? MARGIN_SIZE : 0;\n  var numCells = cells.length + margin * 2;\n  var defaultSize = Math.floor(size * DEFAULT_IMG_SCALE);\n  var scale = numCells / size;\n  var w = (imageSettings.width || defaultSize) * scale;\n  var h = (imageSettings.height || defaultSize) * scale;\n  var x = imageSettings.x == null ? cells.length / 2 - w / 2 : imageSettings.x * scale;\n  var y = imageSettings.y == null ? cells.length / 2 - h / 2 : imageSettings.y * scale;\n  var excavation = null;\n\n  if (imageSettings.excavate) {\n    var floorX = Math.floor(x);\n    var floorY = Math.floor(y);\n    var ceilW = Math.ceil(w + x - floorX);\n    var ceilH = Math.ceil(h + y - floorY);\n    excavation = {\n      x: floorX,\n      y: floorY,\n      w: ceilW,\n      h: ceilH\n    };\n  }\n\n  return {\n    x: x,\n    y: y,\n    h: h,\n    w: w,\n    excavation: excavation\n  };\n} // For canvas we're going to switch our drawing mode based on whether or not\n// the environment supports Path2D. We only need the constructor to be\n// supported, but Edge doesn't actually support the path (string) type\n// argument. Luckily it also doesn't support the addPath() method. We can\n// treat that as the same thing.\n\n\nvar SUPPORTS_PATH2D = function () {\n  try {\n    new Path2D().addPath(new Path2D());\n  } catch (e) {\n    return false;\n  }\n\n  return true;\n}();\n\nvar QRCodeCanvas =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(QRCodeCanvas, _React$PureComponent);\n\n  function QRCodeCanvas() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, QRCodeCanvas);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(QRCodeCanvas)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"_canvas\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_image\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      imgLoaded: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleImageLoad\", function () {\n      _this.setState({\n        imgLoaded: true\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(QRCodeCanvas, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.update();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.update();\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var _this$props = this.props,\n          value = _this$props.value,\n          size = _this$props.size,\n          level = _this$props.level,\n          bgColor = _this$props.bgColor,\n          fgColor = _this$props.fgColor,\n          includeMargin = _this$props.includeMargin,\n          imageSettings = _this$props.imageSettings; // We'll use type===-1 to force QRCode to automatically pick the best type\n\n      var qrcode = new QRCodeImpl(-1, ErrorCorrectLevel[level]);\n      qrcode.addData(convertStr(value));\n      qrcode.make();\n\n      if (this._canvas != null) {\n        var canvas = this._canvas;\n        var ctx = canvas.getContext('2d');\n\n        if (!ctx) {\n          return;\n        }\n\n        var cells = qrcode.modules;\n\n        if (cells === null) {\n          return;\n        }\n\n        var margin = includeMargin ? MARGIN_SIZE : 0;\n        var numCells = cells.length + margin * 2;\n        var calculatedImageSettings = getImageSettings(this.props, cells);\n\n        if (imageSettings != null && calculatedImageSettings != null) {\n          if (calculatedImageSettings.excavation != null) {\n            cells = excavateModules(cells, calculatedImageSettings.excavation);\n          }\n        } // We're going to scale this so that the number of drawable units\n        // matches the number of cells. This avoids rounding issues, but does\n        // result in some potentially unwanted single pixel issues between\n        // blocks, only in environments that don't support Path2D.\n\n\n        var pixelRatio = window.devicePixelRatio || 1;\n        canvas.height = canvas.width = size * pixelRatio;\n        var scale = size / numCells * pixelRatio;\n        ctx.scale(scale, scale); // Draw solid background, only paint dark modules.\n\n        ctx.fillStyle = bgColor;\n        ctx.fillRect(0, 0, numCells, numCells);\n        ctx.fillStyle = fgColor;\n\n        if (SUPPORTS_PATH2D) {\n          // $FlowFixMe: Path2D c'tor doesn't support args yet.\n          ctx.fill(new Path2D(generatePath(cells, margin)));\n        } else {\n          cells.forEach(function (row, rdx) {\n            row.forEach(function (cell, cdx) {\n              if (cell) {\n                ctx.fillRect(cdx + margin, rdx + margin, 1, 1);\n              }\n            });\n          });\n        }\n\n        if (this.state.imgLoaded && this._image && calculatedImageSettings != null) {\n          ctx.drawImage(this._image, calculatedImageSettings.x + margin, calculatedImageSettings.y + margin, calculatedImageSettings.w, calculatedImageSettings.h);\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          value = _this$props2.value,\n          size = _this$props2.size,\n          level = _this$props2.level,\n          bgColor = _this$props2.bgColor,\n          fgColor = _this$props2.fgColor,\n          style = _this$props2.style,\n          includeMargin = _this$props2.includeMargin,\n          imageSettings = _this$props2.imageSettings,\n          otherProps = _objectWithoutProperties(_this$props2, [\"value\", \"size\", \"level\", \"bgColor\", \"fgColor\", \"style\", \"includeMargin\", \"imageSettings\"]);\n\n      var canvasStyle = _objectSpread({\n        height: size,\n        width: size\n      }, style);\n\n      var img = null;\n      var imgSrc = imageSettings && imageSettings.src;\n\n      if (imageSettings != null && imgSrc != null) {\n        img = React.createElement(\"img\", {\n          src: imgSrc,\n          style: {\n            display: 'none'\n          },\n          onLoad: this.handleImageLoad,\n          ref: function ref(_ref) {\n            return _this2._image = _ref;\n          }\n        });\n      }\n\n      return React.createElement(React.Fragment, null, React.createElement(\"canvas\", _extends({\n        style: canvasStyle,\n        height: size,\n        width: size,\n        ref: function ref(_ref2) {\n          return _this2._canvas = _ref2;\n        }\n      }, otherProps)), img);\n    }\n  }]);\n\n  return QRCodeCanvas;\n}(React.PureComponent);\n\n_defineProperty(QRCodeCanvas, \"defaultProps\", DEFAULT_PROPS);\n\nif (process.env.NODE_ENV !== 'production') {\n  QRCodeCanvas.propTypes = PROP_TYPES;\n}\n\nvar QRCodeSVG =\n/*#__PURE__*/\nfunction (_React$PureComponent2) {\n  _inherits(QRCodeSVG, _React$PureComponent2);\n\n  function QRCodeSVG() {\n    _classCallCheck(this, QRCodeSVG);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(QRCodeSVG).apply(this, arguments));\n  }\n\n  _createClass(QRCodeSVG, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          value = _this$props3.value,\n          size = _this$props3.size,\n          level = _this$props3.level,\n          bgColor = _this$props3.bgColor,\n          fgColor = _this$props3.fgColor,\n          includeMargin = _this$props3.includeMargin,\n          imageSettings = _this$props3.imageSettings,\n          otherProps = _objectWithoutProperties(_this$props3, [\"value\", \"size\", \"level\", \"bgColor\", \"fgColor\", \"includeMargin\", \"imageSettings\"]); // We'll use type===-1 to force QRCode to automatically pick the best type\n\n\n      var qrcode = new QRCodeImpl(-1, ErrorCorrectLevel[level]);\n      qrcode.addData(convertStr(value));\n      qrcode.make();\n      var cells = qrcode.modules;\n\n      if (cells === null) {\n        return null;\n      }\n\n      var margin = includeMargin ? MARGIN_SIZE : 0;\n      var numCells = cells.length + margin * 2;\n      var calculatedImageSettings = getImageSettings(this.props, cells);\n      var image = null;\n\n      if (imageSettings != null && calculatedImageSettings != null) {\n        if (calculatedImageSettings.excavation != null) {\n          cells = excavateModules(cells, calculatedImageSettings.excavation);\n        }\n\n        image = React.createElement(\"image\", {\n          xlinkHref: imageSettings.src,\n          height: calculatedImageSettings.h,\n          width: calculatedImageSettings.w,\n          x: calculatedImageSettings.x + margin,\n          y: calculatedImageSettings.y + margin,\n          preserveAspectRatio: \"none\"\n        });\n      } // Drawing strategy: instead of a rect per module, we're going to create a\n      // single path for the dark modules and layer that on top of a light rect,\n      // for a total of 2 DOM nodes. We pay a bit more in string concat but that's\n      // way faster than DOM ops.\n      // For level 1, 441 nodes -> 2\n      // For level 40, 31329 -> 2\n\n\n      var fgPath = generatePath(cells, margin);\n      return React.createElement(\"svg\", _extends({\n        shapeRendering: \"crispEdges\",\n        height: size,\n        width: size,\n        viewBox: \"0 0 \".concat(numCells, \" \").concat(numCells)\n      }, otherProps), React.createElement(\"path\", {\n        fill: bgColor,\n        d: \"M0,0 h\".concat(numCells, \"v\").concat(numCells, \"H0z\")\n      }), React.createElement(\"path\", {\n        fill: fgColor,\n        d: fgPath\n      }), image);\n    }\n  }]);\n\n  return QRCodeSVG;\n}(React.PureComponent);\n\n_defineProperty(QRCodeSVG, \"defaultProps\", DEFAULT_PROPS);\n\nif (process.env.NODE_ENV !== 'production') {\n  QRCodeSVG.propTypes = PROP_TYPES;\n}\n\nvar QRCode = function QRCode(props) {\n  var renderAs = props.renderAs,\n      otherProps = _objectWithoutProperties(props, [\"renderAs\"]);\n\n  var Component = renderAs === 'svg' ? QRCodeSVG : QRCodeCanvas;\n  return React.createElement(Component, otherProps);\n};\n\nQRCode.defaultProps = _objectSpread({\n  renderAs: 'canvas'\n}, DEFAULT_PROPS);\nmodule.exports = QRCode;","var BitByte = require('./8BitByte');\nvar RSBlock = require('./RSBlock');\nvar BitBuffer = require('./BitBuffer');\nvar util = require('./util');\nvar Polynomial = require('./Polynomial');\n\nfunction QRCode(typeNumber, errorCorrectLevel) {\n\tthis.typeNumber = typeNumber;\n\tthis.errorCorrectLevel = errorCorrectLevel;\n\tthis.modules = null;\n\tthis.moduleCount = 0;\n\tthis.dataCache = null;\n\tthis.dataList = [];\n}\n\n// for client side minification\nvar proto = QRCode.prototype;\n\nproto.addData = function(data) {\n\tvar newData = new BitByte(data);\n\tthis.dataList.push(newData);\n\tthis.dataCache = null;\n};\n\nproto.isDark = function(row, col) {\n\tif (row < 0 || this.moduleCount <= row || col < 0 || this.moduleCount <= col) {\n\t\tthrow new Error(row + \",\" + col);\n\t}\n\treturn this.modules[row][col];\n};\n\nproto.getModuleCount = function() {\n\treturn this.moduleCount;\n};\n\nproto.make = function() {\n\t// Calculate automatically typeNumber if provided is < 1\n\tif (this.typeNumber < 1 ){\n\t\tvar typeNumber = 1;\n\t\tfor (typeNumber = 1; typeNumber < 40; typeNumber++) {\n\t\t\tvar rsBlocks = RSBlock.getRSBlocks(typeNumber, this.errorCorrectLevel);\n\n\t\t\tvar buffer = new BitBuffer();\n\t\t\tvar totalDataCount = 0;\n\t\t\tfor (var i = 0; i < rsBlocks.length; i++) {\n\t\t\t\ttotalDataCount += rsBlocks[i].dataCount;\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < this.dataList.length; i++) {\n\t\t\t\tvar data = this.dataList[i];\n\t\t\t\tbuffer.put(data.mode, 4);\n\t\t\t\tbuffer.put(data.getLength(), util.getLengthInBits(data.mode, typeNumber) );\n\t\t\t\tdata.write(buffer);\n\t\t\t}\n\t\t\tif (buffer.getLengthInBits() <= totalDataCount * 8)\n\t\t\t\tbreak;\n\t\t}\n\t\tthis.typeNumber = typeNumber;\n\t}\n\tthis.makeImpl(false, this.getBestMaskPattern() );\n};\n\nproto.makeImpl = function(test, maskPattern) {\n\t\n\tthis.moduleCount = this.typeNumber * 4 + 17;\n\tthis.modules = new Array(this.moduleCount);\n\t\n\tfor (var row = 0; row < this.moduleCount; row++) {\n\t\t\n\t\tthis.modules[row] = new Array(this.moduleCount);\n\t\t\n\t\tfor (var col = 0; col < this.moduleCount; col++) {\n\t\t\tthis.modules[row][col] = null;//(col + row) % 3;\n\t\t}\n\t}\n\n\tthis.setupPositionProbePattern(0, 0);\n\tthis.setupPositionProbePattern(this.moduleCount - 7, 0);\n\tthis.setupPositionProbePattern(0, this.moduleCount - 7);\n\tthis.setupPositionAdjustPattern();\n\tthis.setupTimingPattern();\n\tthis.setupTypeInfo(test, maskPattern);\n\t\n\tif (this.typeNumber >= 7) {\n\t\tthis.setupTypeNumber(test);\n\t}\n\n\tif (this.dataCache == null) {\n\t\tthis.dataCache = QRCode.createData(this.typeNumber, this.errorCorrectLevel, this.dataList);\n\t}\n\n\tthis.mapData(this.dataCache, maskPattern);\n};\n\nproto.setupPositionProbePattern = function(row, col)  {\n\t\n\tfor (var r = -1; r <= 7; r++) {\n\t\t\n\t\tif (row + r <= -1 || this.moduleCount <= row + r) continue;\n\t\t\n\t\tfor (var c = -1; c <= 7; c++) {\n\t\t\t\n\t\t\tif (col + c <= -1 || this.moduleCount <= col + c) continue;\n\t\t\t\n\t\t\tif ( (0 <= r && r <= 6 && (c == 0 || c == 6) )\n\t\t\t\t\t|| (0 <= c && c <= 6 && (r == 0 || r == 6) )\n\t\t\t\t\t|| (2 <= r && r <= 4 && 2 <= c && c <= 4) ) {\n\t\t\t\tthis.modules[row + r][col + c] = true;\n\t\t\t} else {\n\t\t\t\tthis.modules[row + r][col + c] = false;\n\t\t\t}\n\t\t}\t\t\n\t}\t\t\n};\n\nproto.getBestMaskPattern = function() {\n\n\tvar minLostPoint = 0;\n\tvar pattern = 0;\n\n\tfor (var i = 0; i < 8; i++) {\n\t\t\n\t\tthis.makeImpl(true, i);\n\n\t\tvar lostPoint = util.getLostPoint(this);\n\n\t\tif (i == 0 || minLostPoint >  lostPoint) {\n\t\t\tminLostPoint = lostPoint;\n\t\t\tpattern = i;\n\t\t}\n\t}\n\n\treturn pattern;\n};\n\nproto.createMovieClip = function(target_mc, instance_name, depth) {\n\n\tvar qr_mc = target_mc.createEmptyMovieClip(instance_name, depth);\n\tvar cs = 1;\n\n\tthis.make();\n\n\tfor (var row = 0; row < this.modules.length; row++) {\n\t\t\n\t\tvar y = row * cs;\n\t\t\n\t\tfor (var col = 0; col < this.modules[row].length; col++) {\n\n\t\t\tvar x = col * cs;\n\t\t\tvar dark = this.modules[row][col];\n\t\t\n\t\t\tif (dark) {\n\t\t\t\tqr_mc.beginFill(0, 100);\n\t\t\t\tqr_mc.moveTo(x, y);\n\t\t\t\tqr_mc.lineTo(x + cs, y);\n\t\t\t\tqr_mc.lineTo(x + cs, y + cs);\n\t\t\t\tqr_mc.lineTo(x, y + cs);\n\t\t\t\tqr_mc.endFill();\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn qr_mc;\n};\n\nproto.setupTimingPattern = function() {\n\t\n\tfor (var r = 8; r < this.moduleCount - 8; r++) {\n\t\tif (this.modules[r][6] != null) {\n\t\t\tcontinue;\n\t\t}\n\t\tthis.modules[r][6] = (r % 2 == 0);\n\t}\n\n\tfor (var c = 8; c < this.moduleCount - 8; c++) {\n\t\tif (this.modules[6][c] != null) {\n\t\t\tcontinue;\n\t\t}\n\t\tthis.modules[6][c] = (c % 2 == 0);\n\t}\n};\n\nproto.setupPositionAdjustPattern = function() {\n\n\tvar pos = util.getPatternPosition(this.typeNumber);\n\t\n\tfor (var i = 0; i < pos.length; i++) {\n\t\n\t\tfor (var j = 0; j < pos.length; j++) {\n\t\t\n\t\t\tvar row = pos[i];\n\t\t\tvar col = pos[j];\n\t\t\t\n\t\t\tif (this.modules[row][col] != null) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\tfor (var r = -2; r <= 2; r++) {\n\t\t\t\n\t\t\t\tfor (var c = -2; c <= 2; c++) {\n\t\t\t\t\n\t\t\t\t\tif (r == -2 || r == 2 || c == -2 || c == 2\n\t\t\t\t\t\t\t|| (r == 0 && c == 0) ) {\n\t\t\t\t\t\tthis.modules[row + r][col + c] = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.modules[row + r][col + c] = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\nproto.setupTypeNumber = function(test) {\n\n\tvar bits = util.getBCHTypeNumber(this.typeNumber);\n\n\tfor (var i = 0; i < 18; i++) {\n\t\tvar mod = (!test && ( (bits >> i) & 1) == 1);\n\t\tthis.modules[Math.floor(i / 3)][i % 3 + this.moduleCount - 8 - 3] = mod;\n\t}\n\n\tfor (var i = 0; i < 18; i++) {\n\t\tvar mod = (!test && ( (bits >> i) & 1) == 1);\n\t\tthis.modules[i % 3 + this.moduleCount - 8 - 3][Math.floor(i / 3)] = mod;\n\t}\n};\n\nproto.setupTypeInfo = function(test, maskPattern) {\n\n\tvar data = (this.errorCorrectLevel << 3) | maskPattern;\n\tvar bits = util.getBCHTypeInfo(data);\n\n\t// vertical\t\t\n\tfor (var i = 0; i < 15; i++) {\n\n\t\tvar mod = (!test && ( (bits >> i) & 1) == 1);\n\n\t\tif (i < 6) {\n\t\t\tthis.modules[i][8] = mod;\n\t\t} else if (i < 8) {\n\t\t\tthis.modules[i + 1][8] = mod;\n\t\t} else {\n\t\t\tthis.modules[this.moduleCount - 15 + i][8] = mod;\n\t\t}\n\t}\n\n\t// horizontal\n\tfor (var i = 0; i < 15; i++) {\n\n\t\tvar mod = (!test && ( (bits >> i) & 1) == 1);\n\t\t\n\t\tif (i < 8) {\n\t\t\tthis.modules[8][this.moduleCount - i - 1] = mod;\n\t\t} else if (i < 9) {\n\t\t\tthis.modules[8][15 - i - 1 + 1] = mod;\n\t\t} else {\n\t\t\tthis.modules[8][15 - i - 1] = mod;\n\t\t}\n\t}\n\n\t// fixed module\n\tthis.modules[this.moduleCount - 8][8] = (!test);\n};\n\nproto.mapData = function(data, maskPattern) {\n\t\n\tvar inc = -1;\n\tvar row = this.moduleCount - 1;\n\tvar bitIndex = 7;\n\tvar byteIndex = 0;\n\t\n\tfor (var col = this.moduleCount - 1; col > 0; col -= 2) {\n\n\t\tif (col == 6) col--;\n\n\t\twhile (true) {\n\n\t\t\tfor (var c = 0; c < 2; c++) {\n\t\t\t\t\n\t\t\t\tif (this.modules[row][col - c] == null) {\n\t\t\t\t\t\n\t\t\t\t\tvar dark = false;\n\n\t\t\t\t\tif (byteIndex < data.length) {\n\t\t\t\t\t\tdark = ( ( (data[byteIndex] >>> bitIndex) & 1) == 1);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar mask = util.getMask(maskPattern, row, col - c);\n\n\t\t\t\t\tif (mask) {\n\t\t\t\t\t\tdark = !dark;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.modules[row][col - c] = dark;\n\t\t\t\t\tbitIndex--;\n\n\t\t\t\t\tif (bitIndex == -1) {\n\t\t\t\t\t\tbyteIndex++;\n\t\t\t\t\t\tbitIndex = 7;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\trow += inc;\n\n\t\t\tif (row < 0 || this.moduleCount <= row) {\n\t\t\t\trow -= inc;\n\t\t\t\tinc = -inc;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n};\n\nQRCode.PAD0 = 0xEC;\nQRCode.PAD1 = 0x11;\n\nQRCode.createData = function(typeNumber, errorCorrectLevel, dataList) {\n\t\n\tvar rsBlocks = RSBlock.getRSBlocks(typeNumber, errorCorrectLevel);\n\t\n\tvar buffer = new BitBuffer();\n\t\n\tfor (var i = 0; i < dataList.length; i++) {\n\t\tvar data = dataList[i];\n\t\tbuffer.put(data.mode, 4);\n\t\tbuffer.put(data.getLength(), util.getLengthInBits(data.mode, typeNumber) );\n\t\tdata.write(buffer);\n\t}\n\n\t// calc num max data.\n\tvar totalDataCount = 0;\n\tfor (var i = 0; i < rsBlocks.length; i++) {\n\t\ttotalDataCount += rsBlocks[i].dataCount;\n\t}\n\n\tif (buffer.getLengthInBits() > totalDataCount * 8) {\n\t\tthrow new Error(\"code length overflow. (\"\n\t\t\t+ buffer.getLengthInBits()\n\t\t\t+ \">\"\n\t\t\t+  totalDataCount * 8\n\t\t\t+ \")\");\n\t}\n\n\t// end code\n\tif (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {\n\t\tbuffer.put(0, 4);\n\t}\n\n\t// padding\n\twhile (buffer.getLengthInBits() % 8 != 0) {\n\t\tbuffer.putBit(false);\n\t}\n\n\t// padding\n\twhile (true) {\n\t\t\n\t\tif (buffer.getLengthInBits() >= totalDataCount * 8) {\n\t\t\tbreak;\n\t\t}\n\t\tbuffer.put(QRCode.PAD0, 8);\n\t\t\n\t\tif (buffer.getLengthInBits() >= totalDataCount * 8) {\n\t\t\tbreak;\n\t\t}\n\t\tbuffer.put(QRCode.PAD1, 8);\n\t}\n\n\treturn QRCode.createBytes(buffer, rsBlocks);\n};\n\nQRCode.createBytes = function(buffer, rsBlocks) {\n\n\tvar offset = 0;\n\t\n\tvar maxDcCount = 0;\n\tvar maxEcCount = 0;\n\t\n\tvar dcdata = new Array(rsBlocks.length);\n\tvar ecdata = new Array(rsBlocks.length);\n\t\n\tfor (var r = 0; r < rsBlocks.length; r++) {\n\n\t\tvar dcCount = rsBlocks[r].dataCount;\n\t\tvar ecCount = rsBlocks[r].totalCount - dcCount;\n\n\t\tmaxDcCount = Math.max(maxDcCount, dcCount);\n\t\tmaxEcCount = Math.max(maxEcCount, ecCount);\n\t\t\n\t\tdcdata[r] = new Array(dcCount);\n\t\t\n\t\tfor (var i = 0; i < dcdata[r].length; i++) {\n\t\t\tdcdata[r][i] = 0xff & buffer.buffer[i + offset];\n\t\t}\n\t\toffset += dcCount;\n\t\t\n\t\tvar rsPoly = util.getErrorCorrectPolynomial(ecCount);\n\t\tvar rawPoly = new Polynomial(dcdata[r], rsPoly.getLength() - 1);\n\n\t\tvar modPoly = rawPoly.mod(rsPoly);\n\t\tecdata[r] = new Array(rsPoly.getLength() - 1);\n\t\tfor (var i = 0; i < ecdata[r].length; i++) {\n            var modIndex = i + modPoly.getLength() - ecdata[r].length;\n\t\t\tecdata[r][i] = (modIndex >= 0)? modPoly.get(modIndex) : 0;\n\t\t}\n\n\t}\n\t\n\tvar totalCodeCount = 0;\n\tfor (var i = 0; i < rsBlocks.length; i++) {\n\t\ttotalCodeCount += rsBlocks[i].totalCount;\n\t}\n\n\tvar data = new Array(totalCodeCount);\n\tvar index = 0;\n\n\tfor (var i = 0; i < maxDcCount; i++) {\n\t\tfor (var r = 0; r < rsBlocks.length; r++) {\n\t\t\tif (i < dcdata[r].length) {\n\t\t\t\tdata[index++] = dcdata[r][i];\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var i = 0; i < maxEcCount; i++) {\n\t\tfor (var r = 0; r < rsBlocks.length; r++) {\n\t\t\tif (i < ecdata[r].length) {\n\t\t\t\tdata[index++] = ecdata[r][i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn data;\n};\n\nmodule.exports = QRCode;\n\n","var mode = require('./mode');\n\nfunction QR8bitByte(data) {\n\tthis.mode = mode.MODE_8BIT_BYTE;\n\tthis.data = data;\n}\n\nQR8bitByte.prototype = {\n\n\tgetLength : function(buffer) {\n\t\treturn this.data.length;\n\t},\n\t\n\twrite : function(buffer) {\n\t\tfor (var i = 0; i < this.data.length; i++) {\n\t\t\t// not JIS ...\n\t\t\tbuffer.put(this.data.charCodeAt(i), 8);\n\t\t}\n\t}\n};\n\nmodule.exports = QR8bitByte;\n\n","// ErrorCorrectLevel\nvar ECL = require('./ErrorCorrectLevel');\n\nfunction QRRSBlock(totalCount, dataCount) {\n\tthis.totalCount = totalCount;\n\tthis.dataCount  = dataCount;\n}\n\nQRRSBlock.RS_BLOCK_TABLE = [\n\n\t// L\n\t// M\n\t// Q\n\t// H\n\n\t// 1\n\t[1, 26, 19],\n\t[1, 26, 16],\n\t[1, 26, 13],\n\t[1, 26, 9],\n\t\n\t// 2\n\t[1, 44, 34],\n\t[1, 44, 28],\n\t[1, 44, 22],\n\t[1, 44, 16],\n\n\t// 3\n\t[1, 70, 55],\n\t[1, 70, 44],\n\t[2, 35, 17],\n\t[2, 35, 13],\n\n\t// 4\t\t\n\t[1, 100, 80],\n\t[2, 50, 32],\n\t[2, 50, 24],\n\t[4, 25, 9],\n\t\n\t// 5\n\t[1, 134, 108],\n\t[2, 67, 43],\n\t[2, 33, 15, 2, 34, 16],\n\t[2, 33, 11, 2, 34, 12],\n\t\n\t// 6\n\t[2, 86, 68],\n\t[4, 43, 27],\n\t[4, 43, 19],\n\t[4, 43, 15],\n\t\n\t// 7\t\t\n\t[2, 98, 78],\n\t[4, 49, 31],\n\t[2, 32, 14, 4, 33, 15],\n\t[4, 39, 13, 1, 40, 14],\n\t\n\t// 8\n\t[2, 121, 97],\n\t[2, 60, 38, 2, 61, 39],\n\t[4, 40, 18, 2, 41, 19],\n\t[4, 40, 14, 2, 41, 15],\n\t\n\t// 9\n\t[2, 146, 116],\n\t[3, 58, 36, 2, 59, 37],\n\t[4, 36, 16, 4, 37, 17],\n\t[4, 36, 12, 4, 37, 13],\n\t\n\t// 10\t\t\n\t[2, 86, 68, 2, 87, 69],\n\t[4, 69, 43, 1, 70, 44],\n\t[6, 43, 19, 2, 44, 20],\n\t[6, 43, 15, 2, 44, 16],\n\n\t// 11\n\t[4, 101, 81],\n\t[1, 80, 50, 4, 81, 51],\n\t[4, 50, 22, 4, 51, 23],\n\t[3, 36, 12, 8, 37, 13],\n\n\t// 12\n\t[2, 116, 92, 2, 117, 93],\n\t[6, 58, 36, 2, 59, 37],\n\t[4, 46, 20, 6, 47, 21],\n\t[7, 42, 14, 4, 43, 15],\n\n\t// 13\n\t[4, 133, 107],\n\t[8, 59, 37, 1, 60, 38],\n\t[8, 44, 20, 4, 45, 21],\n\t[12, 33, 11, 4, 34, 12],\n\n\t// 14\n\t[3, 145, 115, 1, 146, 116],\n\t[4, 64, 40, 5, 65, 41],\n\t[11, 36, 16, 5, 37, 17],\n\t[11, 36, 12, 5, 37, 13],\n\n\t// 15\n\t[5, 109, 87, 1, 110, 88],\n\t[5, 65, 41, 5, 66, 42],\n\t[5, 54, 24, 7, 55, 25],\n\t[11, 36, 12],\n\n\t// 16\n\t[5, 122, 98, 1, 123, 99],\n\t[7, 73, 45, 3, 74, 46],\n\t[15, 43, 19, 2, 44, 20],\n\t[3, 45, 15, 13, 46, 16],\n\n\t// 17\n\t[1, 135, 107, 5, 136, 108],\n\t[10, 74, 46, 1, 75, 47],\n\t[1, 50, 22, 15, 51, 23],\n\t[2, 42, 14, 17, 43, 15],\n\n\t// 18\n\t[5, 150, 120, 1, 151, 121],\n\t[9, 69, 43, 4, 70, 44],\n\t[17, 50, 22, 1, 51, 23],\n\t[2, 42, 14, 19, 43, 15],\n\n\t// 19\n\t[3, 141, 113, 4, 142, 114],\n\t[3, 70, 44, 11, 71, 45],\n\t[17, 47, 21, 4, 48, 22],\n\t[9, 39, 13, 16, 40, 14],\n\n\t// 20\n\t[3, 135, 107, 5, 136, 108],\n\t[3, 67, 41, 13, 68, 42],\n\t[15, 54, 24, 5, 55, 25],\n\t[15, 43, 15, 10, 44, 16],\n\n\t// 21\n\t[4, 144, 116, 4, 145, 117],\n\t[17, 68, 42],\n\t[17, 50, 22, 6, 51, 23],\n\t[19, 46, 16, 6, 47, 17],\n\n\t// 22\n\t[2, 139, 111, 7, 140, 112],\n\t[17, 74, 46],\n\t[7, 54, 24, 16, 55, 25],\n\t[34, 37, 13],\n\n\t// 23\n\t[4, 151, 121, 5, 152, 122],\n\t[4, 75, 47, 14, 76, 48],\n\t[11, 54, 24, 14, 55, 25],\n\t[16, 45, 15, 14, 46, 16],\n\n\t// 24\n\t[6, 147, 117, 4, 148, 118],\n\t[6, 73, 45, 14, 74, 46],\n\t[11, 54, 24, 16, 55, 25],\n\t[30, 46, 16, 2, 47, 17],\n\n\t// 25\n\t[8, 132, 106, 4, 133, 107],\n\t[8, 75, 47, 13, 76, 48],\n\t[7, 54, 24, 22, 55, 25],\n\t[22, 45, 15, 13, 46, 16],\n\n\t// 26\n\t[10, 142, 114, 2, 143, 115],\n\t[19, 74, 46, 4, 75, 47],\n\t[28, 50, 22, 6, 51, 23],\n\t[33, 46, 16, 4, 47, 17],\n\n\t// 27\n\t[8, 152, 122, 4, 153, 123],\n\t[22, 73, 45, 3, 74, 46],\n\t[8, 53, 23, 26, 54, 24],\n\t[12, 45, 15, 28, 46, 16],\n\n\t// 28\n\t[3, 147, 117, 10, 148, 118],\n\t[3, 73, 45, 23, 74, 46],\n\t[4, 54, 24, 31, 55, 25],\n\t[11, 45, 15, 31, 46, 16],\n\n\t// 29\n\t[7, 146, 116, 7, 147, 117],\n\t[21, 73, 45, 7, 74, 46],\n\t[1, 53, 23, 37, 54, 24],\n\t[19, 45, 15, 26, 46, 16],\n\n\t// 30\n\t[5, 145, 115, 10, 146, 116],\n\t[19, 75, 47, 10, 76, 48],\n\t[15, 54, 24, 25, 55, 25],\n\t[23, 45, 15, 25, 46, 16],\n\n\t// 31\n\t[13, 145, 115, 3, 146, 116],\n\t[2, 74, 46, 29, 75, 47],\n\t[42, 54, 24, 1, 55, 25],\n\t[23, 45, 15, 28, 46, 16],\n\n\t// 32\n\t[17, 145, 115],\n\t[10, 74, 46, 23, 75, 47],\n\t[10, 54, 24, 35, 55, 25],\n\t[19, 45, 15, 35, 46, 16],\n\n\t// 33\n\t[17, 145, 115, 1, 146, 116],\n\t[14, 74, 46, 21, 75, 47],\n\t[29, 54, 24, 19, 55, 25],\n\t[11, 45, 15, 46, 46, 16],\n\n\t// 34\n\t[13, 145, 115, 6, 146, 116],\n\t[14, 74, 46, 23, 75, 47],\n\t[44, 54, 24, 7, 55, 25],\n\t[59, 46, 16, 1, 47, 17],\n\n\t// 35\n\t[12, 151, 121, 7, 152, 122],\n\t[12, 75, 47, 26, 76, 48],\n\t[39, 54, 24, 14, 55, 25],\n\t[22, 45, 15, 41, 46, 16],\n\n\t// 36\n\t[6, 151, 121, 14, 152, 122],\n\t[6, 75, 47, 34, 76, 48],\n\t[46, 54, 24, 10, 55, 25],\n\t[2, 45, 15, 64, 46, 16],\n\n\t// 37\n\t[17, 152, 122, 4, 153, 123],\n\t[29, 74, 46, 14, 75, 47],\n\t[49, 54, 24, 10, 55, 25],\n\t[24, 45, 15, 46, 46, 16],\n\n\t// 38\n\t[4, 152, 122, 18, 153, 123],\n\t[13, 74, 46, 32, 75, 47],\n\t[48, 54, 24, 14, 55, 25],\n\t[42, 45, 15, 32, 46, 16],\n\n\t// 39\n\t[20, 147, 117, 4, 148, 118],\n\t[40, 75, 47, 7, 76, 48],\n\t[43, 54, 24, 22, 55, 25],\n\t[10, 45, 15, 67, 46, 16],\n\n\t// 40\n\t[19, 148, 118, 6, 149, 119],\n\t[18, 75, 47, 31, 76, 48],\n\t[34, 54, 24, 34, 55, 25],\n\t[20, 45, 15, 61, 46, 16]\n];\n\nQRRSBlock.getRSBlocks = function(typeNumber, errorCorrectLevel) {\n\t\n\tvar rsBlock = QRRSBlock.getRsBlockTable(typeNumber, errorCorrectLevel);\n\t\n\tif (rsBlock == undefined) {\n\t\tthrow new Error(\"bad rs block @ typeNumber:\" + typeNumber + \"/errorCorrectLevel:\" + errorCorrectLevel);\n\t}\n\n\tvar length = rsBlock.length / 3;\n\t\n\tvar list = new Array();\n\t\n\tfor (var i = 0; i < length; i++) {\n\n\t\tvar count = rsBlock[i * 3 + 0];\n\t\tvar totalCount = rsBlock[i * 3 + 1];\n\t\tvar dataCount  = rsBlock[i * 3 + 2];\n\n\t\tfor (var j = 0; j < count; j++) {\n\t\t\tlist.push(new QRRSBlock(totalCount, dataCount) );\t\n\t\t}\n\t}\n\t\n\treturn list;\n}\n\nQRRSBlock.getRsBlockTable = function(typeNumber, errorCorrectLevel) {\n\n\tswitch(errorCorrectLevel) {\n\tcase ECL.L :\n\t\treturn QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];\n\tcase ECL.M :\n\t\treturn QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];\n\tcase ECL.Q :\n\t\treturn QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];\n\tcase ECL.H :\n\t\treturn QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];\n\tdefault :\n\t\treturn undefined;\n\t}\n}\n\nmodule.exports = QRRSBlock;\n","function QRBitBuffer() {\n\tthis.buffer = new Array();\n\tthis.length = 0;\n}\n\nQRBitBuffer.prototype = {\n\n\tget : function(index) {\n\t\tvar bufIndex = Math.floor(index / 8);\n\t\treturn ( (this.buffer[bufIndex] >>> (7 - index % 8) ) & 1) == 1;\n\t},\n\t\n\tput : function(num, length) {\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tthis.putBit( ( (num >>> (length - i - 1) ) & 1) == 1);\n\t\t}\n\t},\n\t\n\tgetLengthInBits : function() {\n\t\treturn this.length;\n\t},\n\t\n\tputBit : function(bit) {\n\t\n\t\tvar bufIndex = Math.floor(this.length / 8);\n\t\tif (this.buffer.length <= bufIndex) {\n\t\t\tthis.buffer.push(0);\n\t\t}\n\t\n\t\tif (bit) {\n\t\t\tthis.buffer[bufIndex] |= (0x80 >>> (this.length % 8) );\n\t\t}\n\t\n\t\tthis.length++;\n\t}\n};\n\nmodule.exports = QRBitBuffer;\n","var Mode = require('./mode');\nvar Polynomial = require('./Polynomial');\nvar math = require('./math');\n\nvar QRMaskPattern = {\n\tPATTERN000 : 0,\n\tPATTERN001 : 1,\n\tPATTERN010 : 2,\n\tPATTERN011 : 3,\n\tPATTERN100 : 4,\n\tPATTERN101 : 5,\n\tPATTERN110 : 6,\n\tPATTERN111 : 7\n};\n\nvar QRUtil = {\n\n    PATTERN_POSITION_TABLE : [\n\t    [],\n\t    [6, 18],\n\t    [6, 22],\n\t    [6, 26],\n\t    [6, 30],\n\t    [6, 34],\n\t    [6, 22, 38],\n\t    [6, 24, 42],\n\t    [6, 26, 46],\n\t    [6, 28, 50],\n\t    [6, 30, 54],\t\t\n\t    [6, 32, 58],\n\t    [6, 34, 62],\n\t    [6, 26, 46, 66],\n\t    [6, 26, 48, 70],\n\t    [6, 26, 50, 74],\n\t    [6, 30, 54, 78],\n\t    [6, 30, 56, 82],\n\t    [6, 30, 58, 86],\n\t    [6, 34, 62, 90],\n\t    [6, 28, 50, 72, 94],\n\t    [6, 26, 50, 74, 98],\n\t    [6, 30, 54, 78, 102],\n\t    [6, 28, 54, 80, 106],\n\t    [6, 32, 58, 84, 110],\n\t    [6, 30, 58, 86, 114],\n\t    [6, 34, 62, 90, 118],\n\t    [6, 26, 50, 74, 98, 122],\n\t    [6, 30, 54, 78, 102, 126],\n\t    [6, 26, 52, 78, 104, 130],\n\t    [6, 30, 56, 82, 108, 134],\n\t    [6, 34, 60, 86, 112, 138],\n\t    [6, 30, 58, 86, 114, 142],\n\t    [6, 34, 62, 90, 118, 146],\n\t    [6, 30, 54, 78, 102, 126, 150],\n\t    [6, 24, 50, 76, 102, 128, 154],\n\t    [6, 28, 54, 80, 106, 132, 158],\n\t    [6, 32, 58, 84, 110, 136, 162],\n\t    [6, 26, 54, 82, 110, 138, 166],\n\t    [6, 30, 58, 86, 114, 142, 170]\n    ],\n\n    G15 : (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0),\n    G18 : (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0),\n    G15_MASK : (1 << 14) | (1 << 12) | (1 << 10)\t| (1 << 4) | (1 << 1),\n\n    getBCHTypeInfo : function(data) {\n\t    var d = data << 10;\n\t    while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) >= 0) {\n\t\t    d ^= (QRUtil.G15 << (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) ) ); \t\n\t    }\n\t    return ( (data << 10) | d) ^ QRUtil.G15_MASK;\n    },\n\n    getBCHTypeNumber : function(data) {\n\t    var d = data << 12;\n\t    while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) >= 0) {\n\t\t    d ^= (QRUtil.G18 << (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) ) ); \t\n\t    }\n\t    return (data << 12) | d;\n    },\n\n    getBCHDigit : function(data) {\n\n\t    var digit = 0;\n\n\t    while (data != 0) {\n\t\t    digit++;\n\t\t    data >>>= 1;\n\t    }\n\n\t    return digit;\n    },\n\n    getPatternPosition : function(typeNumber) {\n\t    return QRUtil.PATTERN_POSITION_TABLE[typeNumber - 1];\n    },\n\n    getMask : function(maskPattern, i, j) {\n\t    \n\t    switch (maskPattern) {\n\t\t    \n\t    case QRMaskPattern.PATTERN000 : return (i + j) % 2 == 0;\n\t    case QRMaskPattern.PATTERN001 : return i % 2 == 0;\n\t    case QRMaskPattern.PATTERN010 : return j % 3 == 0;\n\t    case QRMaskPattern.PATTERN011 : return (i + j) % 3 == 0;\n\t    case QRMaskPattern.PATTERN100 : return (Math.floor(i / 2) + Math.floor(j / 3) ) % 2 == 0;\n\t    case QRMaskPattern.PATTERN101 : return (i * j) % 2 + (i * j) % 3 == 0;\n\t    case QRMaskPattern.PATTERN110 : return ( (i * j) % 2 + (i * j) % 3) % 2 == 0;\n\t    case QRMaskPattern.PATTERN111 : return ( (i * j) % 3 + (i + j) % 2) % 2 == 0;\n\n\t    default :\n\t\t    throw new Error(\"bad maskPattern:\" + maskPattern);\n\t    }\n    },\n\n    getErrorCorrectPolynomial : function(errorCorrectLength) {\n\n\t    var a = new Polynomial([1], 0);\n\n\t    for (var i = 0; i < errorCorrectLength; i++) {\n\t\t    a = a.multiply(new Polynomial([1, math.gexp(i)], 0) );\n\t    }\n\n\t    return a;\n    },\n\n    getLengthInBits : function(mode, type) {\n\n\t    if (1 <= type && type < 10) {\n\n\t\t    // 1 - 9\n\n\t\t    switch(mode) {\n\t\t    case Mode.MODE_NUMBER \t: return 10;\n\t\t    case Mode.MODE_ALPHA_NUM \t: return 9;\n\t\t    case Mode.MODE_8BIT_BYTE\t: return 8;\n\t\t    case Mode.MODE_KANJI  \t: return 8;\n\t\t    default :\n\t\t\t    throw new Error(\"mode:\" + mode);\n\t\t    }\n\n\t    } else if (type < 27) {\n\n\t\t    // 10 - 26\n\n\t\t    switch(mode) {\n\t\t    case Mode.MODE_NUMBER \t: return 12;\n\t\t    case Mode.MODE_ALPHA_NUM \t: return 11;\n\t\t    case Mode.MODE_8BIT_BYTE\t: return 16;\n\t\t    case Mode.MODE_KANJI  \t: return 10;\n\t\t    default :\n\t\t\t    throw new Error(\"mode:\" + mode);\n\t\t    }\n\n\t    } else if (type < 41) {\n\n\t\t    // 27 - 40\n\n\t\t    switch(mode) {\n\t\t    case Mode.MODE_NUMBER \t: return 14;\n\t\t    case Mode.MODE_ALPHA_NUM\t: return 13;\n\t\t    case Mode.MODE_8BIT_BYTE\t: return 16;\n\t\t    case Mode.MODE_KANJI  \t: return 12;\n\t\t    default :\n\t\t\t    throw new Error(\"mode:\" + mode);\n\t\t    }\n\n\t    } else {\n\t\t    throw new Error(\"type:\" + type);\n\t    }\n    },\n\n    getLostPoint : function(qrCode) {\n\t    \n\t    var moduleCount = qrCode.getModuleCount();\n\t    \n\t    var lostPoint = 0;\n\t    \n\t    // LEVEL1\n\t    \n\t    for (var row = 0; row < moduleCount; row++) {\n\n\t\t    for (var col = 0; col < moduleCount; col++) {\n\n\t\t\t    var sameCount = 0;\n\t\t\t    var dark = qrCode.isDark(row, col);\n\n\t\t\t\tfor (var r = -1; r <= 1; r++) {\n\n\t\t\t\t    if (row + r < 0 || moduleCount <= row + r) {\n\t\t\t\t\t    continue;\n\t\t\t\t    }\n\n\t\t\t\t    for (var c = -1; c <= 1; c++) {\n\n\t\t\t\t\t    if (col + c < 0 || moduleCount <= col + c) {\n\t\t\t\t\t\t    continue;\n\t\t\t\t\t    }\n\n\t\t\t\t\t    if (r == 0 && c == 0) {\n\t\t\t\t\t\t    continue;\n\t\t\t\t\t    }\n\n\t\t\t\t\t    if (dark == qrCode.isDark(row + r, col + c) ) {\n\t\t\t\t\t\t    sameCount++;\n\t\t\t\t\t    }\n\t\t\t\t    }\n\t\t\t    }\n\n\t\t\t    if (sameCount > 5) {\n\t\t\t\t    lostPoint += (3 + sameCount - 5);\n\t\t\t    }\n\t\t    }\n\t    }\n\n\t    // LEVEL2\n\n\t    for (var row = 0; row < moduleCount - 1; row++) {\n\t\t    for (var col = 0; col < moduleCount - 1; col++) {\n\t\t\t    var count = 0;\n\t\t\t    if (qrCode.isDark(row,     col    ) ) count++;\n\t\t\t    if (qrCode.isDark(row + 1, col    ) ) count++;\n\t\t\t    if (qrCode.isDark(row,     col + 1) ) count++;\n\t\t\t    if (qrCode.isDark(row + 1, col + 1) ) count++;\n\t\t\t    if (count == 0 || count == 4) {\n\t\t\t\t    lostPoint += 3;\n\t\t\t    }\n\t\t    }\n\t    }\n\n\t    // LEVEL3\n\n\t    for (var row = 0; row < moduleCount; row++) {\n\t\t    for (var col = 0; col < moduleCount - 6; col++) {\n\t\t\t    if (qrCode.isDark(row, col)\n\t\t\t\t\t    && !qrCode.isDark(row, col + 1)\n\t\t\t\t\t    &&  qrCode.isDark(row, col + 2)\n\t\t\t\t\t    &&  qrCode.isDark(row, col + 3)\n\t\t\t\t\t    &&  qrCode.isDark(row, col + 4)\n\t\t\t\t\t    && !qrCode.isDark(row, col + 5)\n\t\t\t\t\t    &&  qrCode.isDark(row, col + 6) ) {\n\t\t\t\t    lostPoint += 40;\n\t\t\t    }\n\t\t    }\n\t    }\n\n\t    for (var col = 0; col < moduleCount; col++) {\n\t\t    for (var row = 0; row < moduleCount - 6; row++) {\n\t\t\t    if (qrCode.isDark(row, col)\n\t\t\t\t\t    && !qrCode.isDark(row + 1, col)\n\t\t\t\t\t    &&  qrCode.isDark(row + 2, col)\n\t\t\t\t\t    &&  qrCode.isDark(row + 3, col)\n\t\t\t\t\t    &&  qrCode.isDark(row + 4, col)\n\t\t\t\t\t    && !qrCode.isDark(row + 5, col)\n\t\t\t\t\t    &&  qrCode.isDark(row + 6, col) ) {\n\t\t\t\t    lostPoint += 40;\n\t\t\t    }\n\t\t    }\n\t    }\n\n\t    // LEVEL4\n\t    \n\t    var darkCount = 0;\n\n\t    for (var col = 0; col < moduleCount; col++) {\n\t\t    for (var row = 0; row < moduleCount; row++) {\n\t\t\t    if (qrCode.isDark(row, col) ) {\n\t\t\t\t    darkCount++;\n\t\t\t    }\n\t\t    }\n\t    }\n\t    \n\t    var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;\n\t    lostPoint += ratio * 10;\n\n\t    return lostPoint;\t\t\n    }\n};\n\nmodule.exports = QRUtil;\n","/*!\n * better-scroll / core\n * (c) 2016-2020 ustbhuangyi\n * Released under the MIT License.\n */\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nvar propertiesConfig = [\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.currentPos',\r\n        key: 'x'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.currentPos',\r\n        key: 'y'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.hasScroll',\r\n        key: 'hasHorizontalScroll'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.hasScroll',\r\n        key: 'hasVerticalScroll'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.contentSize',\r\n        key: 'scrollerWidth'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.contentSize',\r\n        key: 'scrollerHeight'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.maxScrollPos',\r\n        key: 'maxScrollX'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.maxScrollPos',\r\n        key: 'maxScrollY'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.minScrollPos',\r\n        key: 'minScrollX'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.minScrollPos',\r\n        key: 'minScrollY'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.movingDirection',\r\n        key: 'movingDirectionX'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.movingDirection',\r\n        key: 'movingDirectionY'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.direction',\r\n        key: 'directionX'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.direction',\r\n        key: 'directionY'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.actions.enabled',\r\n        key: 'enabled'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.animater.pending',\r\n        key: 'pending'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.animater.stop',\r\n        key: 'stop'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollTo',\r\n        key: 'scrollTo'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBy',\r\n        key: 'scrollBy'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollToElement',\r\n        key: 'scrollToElement'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.resetPosition',\r\n        key: 'resetPosition'\r\n    }\r\n];\n\nfunction warn(msg) {\r\n    console.error(\"[BScroll warn]: \" + msg);\r\n}\n\n// ssr support\r\nvar inBrowser = typeof window !== 'undefined';\r\nvar ua = inBrowser && navigator.userAgent.toLowerCase();\r\nvar isWeChatDevTools = !!(ua && /wechatdevtools/.test(ua));\r\nvar isAndroid = ua && ua.indexOf('android') > 0;\r\nvar isIOSBadVersion = (function () {\r\n    if (typeof ua === 'string') {\r\n        var regex = /os (\\d\\d?_\\d(_\\d)?)/;\r\n        var matches = regex.exec(ua);\r\n        if (!matches)\r\n            return false;\r\n        var parts = matches[1].split('_').map(function (item) {\r\n            return parseInt(item, 10);\r\n        });\r\n        // ios version >= 13.4 issue 982\r\n        return !!(parts[0] >= 13 && parts[1] >= 4);\r\n    }\r\n    return false;\r\n})();\n\nfunction getNow() {\r\n    return window.performance &&\r\n        window.performance.now &&\r\n        window.performance.timing\r\n        ? window.performance.now() + window.performance.timing.navigationStart\r\n        : +new Date();\r\n}\r\nvar extend = function (target, source) {\r\n    for (var key in source) {\r\n        target[key] = source[key];\r\n    }\r\n    return target;\r\n};\r\nfunction isUndef(v) {\r\n    return v === undefined || v === null;\r\n}\n\nvar elementStyle = (inBrowser &&\r\n    document.createElement('div').style);\r\nvar vendor = (function () {\r\n    if (!inBrowser) {\r\n        return false;\r\n    }\r\n    var transformNames = [\r\n        {\r\n            key: 'standard',\r\n            value: 'transform',\r\n        },\r\n        {\r\n            key: 'webkit',\r\n            value: 'webkitTransform',\r\n        },\r\n        {\r\n            key: 'Moz',\r\n            value: 'MozTransform',\r\n        },\r\n        {\r\n            key: 'O',\r\n            value: 'OTransform',\r\n        },\r\n        {\r\n            key: 'ms',\r\n            value: 'msTransform',\r\n        },\r\n    ];\r\n    for (var _i = 0, transformNames_1 = transformNames; _i < transformNames_1.length; _i++) {\r\n        var obj = transformNames_1[_i];\r\n        if (elementStyle[obj.value] !== undefined) {\r\n            return obj.key;\r\n        }\r\n    }\r\n    return false;\r\n})();\r\nfunction prefixStyle(style) {\r\n    if (vendor === false) {\r\n        return style;\r\n    }\r\n    if (vendor === 'standard') {\r\n        if (style === 'transitionEnd') {\r\n            return 'transitionend';\r\n        }\r\n        return style;\r\n    }\r\n    return vendor + style.charAt(0).toUpperCase() + style.substr(1);\r\n}\r\nfunction getElement(el) {\r\n    return (typeof el === 'string'\r\n        ? document.querySelector(el)\r\n        : el);\r\n}\r\nfunction addEvent(el, type, fn, capture) {\r\n    el.addEventListener(type, fn, {\r\n        passive: false,\r\n        capture: !!capture,\r\n    });\r\n}\r\nfunction removeEvent(el, type, fn, capture) {\r\n    el.removeEventListener(type, fn, {\r\n        capture: !!capture,\r\n    });\r\n}\r\nfunction offset(el) {\r\n    var left = 0;\r\n    var top = 0;\r\n    while (el) {\r\n        left -= el.offsetLeft;\r\n        top -= el.offsetTop;\r\n        el = el.offsetParent;\r\n    }\r\n    return {\r\n        left: left,\r\n        top: top,\r\n    };\r\n}\r\nvar cssVendor = vendor && vendor !== 'standard' ? '-' + vendor.toLowerCase() + '-' : '';\r\nvar transform = prefixStyle('transform');\r\nvar transition = prefixStyle('transition');\r\nvar hasPerspective = inBrowser && prefixStyle('perspective') in elementStyle;\r\n// fix issue #361\r\nvar hasTouch = inBrowser && ('ontouchstart' in window || isWeChatDevTools);\r\nvar hasTransition = inBrowser && transition in elementStyle;\r\nvar style = {\r\n    transform: transform,\r\n    transition: transition,\r\n    transitionTimingFunction: prefixStyle('transitionTimingFunction'),\r\n    transitionDuration: prefixStyle('transitionDuration'),\r\n    transitionDelay: prefixStyle('transitionDelay'),\r\n    transformOrigin: prefixStyle('transformOrigin'),\r\n    transitionEnd: prefixStyle('transitionEnd'),\r\n    transitionProperty: prefixStyle('transitionProperty'),\r\n};\r\nvar eventTypeMap = {\r\n    touchstart: 1,\r\n    touchmove: 1,\r\n    touchend: 1,\r\n    mousedown: 2,\r\n    mousemove: 2,\r\n    mouseup: 2,\r\n};\r\nfunction getRect(el) {\r\n    if (el instanceof window.SVGElement) {\r\n        var rect = el.getBoundingClientRect();\r\n        return {\r\n            top: rect.top,\r\n            left: rect.left,\r\n            width: rect.width,\r\n            height: rect.height,\r\n        };\r\n    }\r\n    else {\r\n        return {\r\n            top: el.offsetTop,\r\n            left: el.offsetLeft,\r\n            width: el.offsetWidth,\r\n            height: el.offsetHeight,\r\n        };\r\n    }\r\n}\r\nfunction preventDefaultExceptionFn(el, exceptions) {\r\n    for (var i in exceptions) {\r\n        if (exceptions[i].test(el[i])) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nvar tagExceptionFn = preventDefaultExceptionFn;\r\nfunction tap(e, eventName) {\r\n    var ev = document.createEvent('Event');\r\n    ev.initEvent(eventName, true, true);\r\n    ev.pageX = e.pageX;\r\n    ev.pageY = e.pageY;\r\n    e.target.dispatchEvent(ev);\r\n}\r\nfunction click(e, event) {\r\n    if (event === void 0) { event = 'click'; }\r\n    var eventSource;\r\n    if (e.type === 'mouseup') {\r\n        eventSource = e;\r\n    }\r\n    else if (e.type === 'touchend' || e.type === 'touchcancel') {\r\n        eventSource = e.changedTouches[0];\r\n    }\r\n    var posSrc = {};\r\n    if (eventSource) {\r\n        posSrc.screenX = eventSource.screenX || 0;\r\n        posSrc.screenY = eventSource.screenY || 0;\r\n        posSrc.clientX = eventSource.clientX || 0;\r\n        posSrc.clientY = eventSource.clientY || 0;\r\n    }\r\n    var ev;\r\n    var bubbles = true;\r\n    var cancelable = true;\r\n    var ctrlKey = e.ctrlKey, shiftKey = e.shiftKey, altKey = e.altKey, metaKey = e.metaKey;\r\n    var pressedKeysMap = {\r\n        ctrlKey: ctrlKey,\r\n        shiftKey: shiftKey,\r\n        altKey: altKey,\r\n        metaKey: metaKey,\r\n    };\r\n    if (typeof MouseEvent !== 'undefined') {\r\n        try {\r\n            ev = new MouseEvent(event, extend(__assign({ bubbles: bubbles,\r\n                cancelable: cancelable }, pressedKeysMap), posSrc));\r\n        }\r\n        catch (e) {\r\n            createEvent();\r\n        }\r\n    }\r\n    else {\r\n        createEvent();\r\n    }\r\n    function createEvent() {\r\n        ev = document.createEvent('Event');\r\n        ev.initEvent(event, bubbles, cancelable);\r\n        extend(ev, posSrc);\r\n    }\r\n    // forwardedTouchEvent set to true in case of the conflict with fastclick\r\n    ev.forwardedTouchEvent = true;\r\n    ev._constructed = true;\r\n    e.target.dispatchEvent(ev);\r\n}\r\nfunction dblclick(e) {\r\n    click(e, 'dblclick');\r\n}\n\nvar ease = {\r\n    // easeOutQuint\r\n    swipe: {\r\n        style: 'cubic-bezier(0.23, 1, 0.32, 1)',\r\n        fn: function (t) {\r\n            return 1 + --t * t * t * t * t;\r\n        }\r\n    },\r\n    // easeOutQuard\r\n    swipeBounce: {\r\n        style: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\r\n        fn: function (t) {\r\n            return t * (2 - t);\r\n        }\r\n    },\r\n    // easeOutQuart\r\n    bounce: {\r\n        style: 'cubic-bezier(0.165, 0.84, 0.44, 1)',\r\n        fn: function (t) {\r\n            return 1 - --t * t * t * t;\r\n        }\r\n    }\r\n};\n\nvar DEFAULT_INTERVAL = 100 / 60;\r\nvar windowCompat = inBrowser && window;\r\nfunction noop() { }\r\nvar requestAnimationFrame = (function () {\r\n    if (!inBrowser) {\r\n        /* istanbul ignore if */\r\n        return noop;\r\n    }\r\n    return (windowCompat.requestAnimationFrame ||\r\n        windowCompat.webkitRequestAnimationFrame ||\r\n        windowCompat.mozRequestAnimationFrame ||\r\n        windowCompat.oRequestAnimationFrame ||\r\n        // if all else fails, use setTimeout\r\n        function (callback) {\r\n            return window.setTimeout(callback, (callback.interval || DEFAULT_INTERVAL) / 2); // make interval as precise as possible.\r\n        });\r\n})();\r\nvar cancelAnimationFrame = (function () {\r\n    if (!inBrowser) {\r\n        /* istanbul ignore if */\r\n        return noop;\r\n    }\r\n    return (windowCompat.cancelAnimationFrame ||\r\n        windowCompat.webkitCancelAnimationFrame ||\r\n        windowCompat.mozCancelAnimationFrame ||\r\n        windowCompat.oCancelAnimationFrame ||\r\n        function (id) {\r\n            window.clearTimeout(id);\r\n        });\r\n})();\n\nvar noop$1 = function (val) { };\r\nvar sharedPropertyDefinition = {\r\n    enumerable: true,\r\n    configurable: true,\r\n    get: noop$1,\r\n    set: noop$1\r\n};\r\nvar getProperty = function (obj, key) {\r\n    var keys = key.split('.');\r\n    for (var i = 0; i < keys.length - 1; i++) {\r\n        obj = obj[keys[i]];\r\n        if (typeof obj !== 'object' || !obj)\r\n            return;\r\n    }\r\n    var lastKey = keys.pop();\r\n    if (typeof obj[lastKey] === 'function') {\r\n        return function () {\r\n            return obj[lastKey].apply(obj, arguments);\r\n        };\r\n    }\r\n    else {\r\n        return obj[lastKey];\r\n    }\r\n};\r\nvar setProperty = function (obj, key, value) {\r\n    var keys = key.split('.');\r\n    var temp;\r\n    for (var i = 0; i < keys.length - 1; i++) {\r\n        temp = keys[i];\r\n        if (!obj[temp])\r\n            obj[temp] = {};\r\n        obj = obj[temp];\r\n    }\r\n    obj[keys.pop()] = value;\r\n};\r\nfunction propertiesProxy(target, sourceKey, key) {\r\n    sharedPropertyDefinition.get = function proxyGetter() {\r\n        return getProperty(this, sourceKey);\r\n    };\r\n    sharedPropertyDefinition.set = function proxySetter(val) {\r\n        setProperty(this, sourceKey, val);\r\n    };\r\n    Object.defineProperty(target, key, sharedPropertyDefinition);\r\n}\n\nvar EventEmitter = /** @class */ (function () {\r\n    function EventEmitter(names) {\r\n        this.events = {};\r\n        this.eventTypes = {};\r\n        this.registerType(names);\r\n    }\r\n    EventEmitter.prototype.on = function (type, fn, context) {\r\n        if (context === void 0) { context = this; }\r\n        this.hasType(type);\r\n        if (!this.events[type]) {\r\n            this.events[type] = [];\r\n        }\r\n        this.events[type].push([fn, context]);\r\n        return this;\r\n    };\r\n    EventEmitter.prototype.once = function (type, fn, context) {\r\n        var _this = this;\r\n        if (context === void 0) { context = this; }\r\n        this.hasType(type);\r\n        var magic = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            _this.off(type, magic);\r\n            fn.apply(context, args);\r\n        };\r\n        magic.fn = fn;\r\n        this.on(type, magic);\r\n        return this;\r\n    };\r\n    EventEmitter.prototype.off = function (type, fn) {\r\n        if (!type && !fn) {\r\n            this.events = {};\r\n            return this;\r\n        }\r\n        if (type) {\r\n            this.hasType(type);\r\n            if (!fn) {\r\n                this.events[type] = [];\r\n                return this;\r\n            }\r\n            var events = this.events[type];\r\n            if (!events) {\r\n                return this;\r\n            }\r\n            var count = events.length;\r\n            while (count--) {\r\n                if (events[count][0] === fn ||\r\n                    (events[count][0] && events[count][0].fn === fn)) {\r\n                    events.splice(count, 1);\r\n                }\r\n            }\r\n            return this;\r\n        }\r\n    };\r\n    EventEmitter.prototype.trigger = function (type) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        this.hasType(type);\r\n        var events = this.events[type];\r\n        if (!events) {\r\n            return;\r\n        }\r\n        var len = events.length;\r\n        var eventsCopy = __spreadArrays(events);\r\n        var ret;\r\n        for (var i = 0; i < len; i++) {\r\n            var event_1 = eventsCopy[i];\r\n            var fn = event_1[0], context = event_1[1];\r\n            if (fn) {\r\n                ret = fn.apply(context, args);\r\n                if (ret === true) {\r\n                    return ret;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    EventEmitter.prototype.registerType = function (names) {\r\n        var _this = this;\r\n        names.forEach(function (type) {\r\n            _this.eventTypes[type] = type;\r\n        });\r\n    };\r\n    EventEmitter.prototype.destroy = function () {\r\n        this.events = {};\r\n        this.eventTypes = {};\r\n    };\r\n    EventEmitter.prototype.hasType = function (type) {\r\n        var types = this.eventTypes;\r\n        var isType = types[type] === type;\r\n        if (!isType) {\r\n            warn(\"EventEmitter has used unknown event type: \\\"\" + type + \"\\\", should be oneof [\" +\r\n                (\"\" + Object.keys(types).map(function (_) { return JSON.stringify(_); })) +\r\n                \"]\");\r\n        }\r\n    };\r\n    return EventEmitter;\r\n}());\r\nvar EventRegister = /** @class */ (function () {\r\n    function EventRegister(wrapper, events) {\r\n        this.wrapper = wrapper;\r\n        this.events = events;\r\n        this.addDOMEvents();\r\n    }\r\n    EventRegister.prototype.destroy = function () {\r\n        this.removeDOMEvents();\r\n        this.events = [];\r\n    };\r\n    EventRegister.prototype.addDOMEvents = function () {\r\n        this.handleDOMEvents(addEvent);\r\n    };\r\n    EventRegister.prototype.removeDOMEvents = function () {\r\n        this.handleDOMEvents(removeEvent);\r\n    };\r\n    EventRegister.prototype.handleDOMEvents = function (eventOperation) {\r\n        var _this = this;\r\n        var wrapper = this.wrapper;\r\n        this.events.forEach(function (event) {\r\n            eventOperation(wrapper, event.name, _this, !!event.capture);\r\n        });\r\n    };\r\n    EventRegister.prototype.handleEvent = function (e) {\r\n        var eventType = e.type;\r\n        this.events.some(function (event) {\r\n            if (event.name === eventType) {\r\n                event.handler(e);\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n    };\r\n    return EventRegister;\r\n}());\n\nvar CustomOptions = /** @class */ (function () {\r\n    function CustomOptions() {\r\n    }\r\n    return CustomOptions;\r\n}());\r\nvar OptionsConstructor = /** @class */ (function (_super) {\r\n    __extends(OptionsConstructor, _super);\r\n    function OptionsConstructor() {\r\n        var _this = _super.call(this) || this;\r\n        _this.startX = 0;\r\n        _this.startY = 0;\r\n        _this.scrollX = false;\r\n        _this.scrollY = true;\r\n        _this.freeScroll = false;\r\n        _this.directionLockThreshold = 5;\r\n        _this.eventPassthrough = \"\" /* None */;\r\n        _this.click = false;\r\n        _this.dblclick = false;\r\n        _this.tap = '';\r\n        _this.bounce = {\r\n            top: true,\r\n            bottom: true,\r\n            left: true,\r\n            right: true,\r\n        };\r\n        _this.bounceTime = 800;\r\n        _this.momentum = true;\r\n        _this.momentumLimitTime = 300;\r\n        _this.momentumLimitDistance = 15;\r\n        _this.swipeTime = 2500;\r\n        _this.swipeBounceTime = 500;\r\n        _this.deceleration = 0.0015;\r\n        _this.flickLimitTime = 200;\r\n        _this.flickLimitDistance = 100;\r\n        _this.resizePolling = 60;\r\n        _this.probeType = 0 /* Default */;\r\n        _this.stopPropagation = false;\r\n        _this.preventDefault = true;\r\n        _this.preventDefaultException = {\r\n            tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|AUDIO)$/,\r\n        };\r\n        _this.tagException = {\r\n            tagName: /^TEXTAREA$/,\r\n        };\r\n        _this.HWCompositing = true;\r\n        _this.useTransition = true;\r\n        _this.bindToWrapper = false;\r\n        _this.bindToTarget = false;\r\n        _this.disableMouse = hasTouch;\r\n        _this.disableTouch = !hasTouch;\r\n        _this.autoBlur = true;\r\n        _this.autoEndDistance = 5;\r\n        _this.outOfBoundaryDampingFactor = 1 / 3;\r\n        _this.specifiedIndexAsContent = 0;\r\n        return _this;\r\n    }\r\n    OptionsConstructor.prototype.merge = function (options) {\r\n        if (!options)\r\n            return this;\r\n        for (var key in options) {\r\n            if (key === 'bounce') {\r\n                this.bounce = this.resolveBounce(options[key]);\r\n                continue;\r\n            }\r\n            this[key] = options[key];\r\n        }\r\n        return this;\r\n    };\r\n    OptionsConstructor.prototype.process = function () {\r\n        this.translateZ =\r\n            this.HWCompositing && hasPerspective ? ' translateZ(1px)' : '';\r\n        this.useTransition = this.useTransition && hasTransition;\r\n        this.preventDefault = !this.eventPassthrough && this.preventDefault;\r\n        // If you want eventPassthrough I have to lock one of the axes\r\n        this.scrollX =\r\n            this.eventPassthrough === \"horizontal\" /* Horizontal */\r\n                ? false\r\n                : this.scrollX;\r\n        this.scrollY =\r\n            this.eventPassthrough === \"vertical\" /* Vertical */ ? false : this.scrollY;\r\n        // With eventPassthrough we also need lockDirection mechanism\r\n        this.freeScroll = this.freeScroll && !this.eventPassthrough;\r\n        // force true when freeScroll is true\r\n        this.scrollX = this.freeScroll ? true : this.scrollX;\r\n        this.scrollY = this.freeScroll ? true : this.scrollY;\r\n        this.directionLockThreshold = this.eventPassthrough\r\n            ? 0\r\n            : this.directionLockThreshold;\r\n        return this;\r\n    };\r\n    OptionsConstructor.prototype.resolveBounce = function (bounceOptions) {\r\n        var DEFAULT_BOUNCE = {\r\n            top: true,\r\n            right: true,\r\n            bottom: true,\r\n            left: true,\r\n        };\r\n        var NEGATED_BOUNCE = {\r\n            top: false,\r\n            right: false,\r\n            bottom: false,\r\n            left: false,\r\n        };\r\n        var ret;\r\n        if (typeof bounceOptions === 'object') {\r\n            ret = extend(DEFAULT_BOUNCE, bounceOptions);\r\n        }\r\n        else {\r\n            ret = bounceOptions ? DEFAULT_BOUNCE : NEGATED_BOUNCE;\r\n        }\r\n        return ret;\r\n    };\r\n    return OptionsConstructor;\r\n}(CustomOptions));\n\nvar ActionsHandler = /** @class */ (function () {\r\n    function ActionsHandler(wrapper, options) {\r\n        this.wrapper = wrapper;\r\n        this.options = options;\r\n        this.hooks = new EventEmitter([\r\n            'beforeStart',\r\n            'start',\r\n            'move',\r\n            'end',\r\n            'click',\r\n        ]);\r\n        this.handleDOMEvents();\r\n    }\r\n    ActionsHandler.prototype.handleDOMEvents = function () {\r\n        var _a = this.options, bindToWrapper = _a.bindToWrapper, disableMouse = _a.disableMouse, disableTouch = _a.disableTouch, click = _a.click;\r\n        var wrapper = this.wrapper;\r\n        var target = bindToWrapper ? wrapper : window;\r\n        var wrapperEvents = [];\r\n        var targetEvents = [];\r\n        var shouldRegisterTouch = !disableTouch;\r\n        var shouldRegisterMouse = !disableMouse;\r\n        if (click) {\r\n            wrapperEvents.push({\r\n                name: 'click',\r\n                handler: this.click.bind(this),\r\n                capture: true,\r\n            });\r\n        }\r\n        if (shouldRegisterTouch) {\r\n            wrapperEvents.push({\r\n                name: 'touchstart',\r\n                handler: this.start.bind(this),\r\n            });\r\n            targetEvents.push({\r\n                name: 'touchmove',\r\n                handler: this.move.bind(this),\r\n            }, {\r\n                name: 'touchend',\r\n                handler: this.end.bind(this),\r\n            }, {\r\n                name: 'touchcancel',\r\n                handler: this.end.bind(this),\r\n            });\r\n        }\r\n        if (shouldRegisterMouse) {\r\n            wrapperEvents.push({\r\n                name: 'mousedown',\r\n                handler: this.start.bind(this),\r\n            });\r\n            targetEvents.push({\r\n                name: 'mousemove',\r\n                handler: this.move.bind(this),\r\n            }, {\r\n                name: 'mouseup',\r\n                handler: this.end.bind(this),\r\n            });\r\n        }\r\n        this.wrapperEventRegister = new EventRegister(wrapper, wrapperEvents);\r\n        this.targetEventRegister = new EventRegister(target, targetEvents);\r\n    };\r\n    ActionsHandler.prototype.beforeHandler = function (e, type) {\r\n        var _a = this.options, preventDefault = _a.preventDefault, stopPropagation = _a.stopPropagation, preventDefaultException = _a.preventDefaultException;\r\n        var preventDefaultConditions = {\r\n            start: function () {\r\n                return (preventDefault &&\r\n                    !preventDefaultExceptionFn(e.target, preventDefaultException));\r\n            },\r\n            end: function () {\r\n                return (preventDefault &&\r\n                    !preventDefaultExceptionFn(e.target, preventDefaultException));\r\n            },\r\n            move: function () {\r\n                return preventDefault;\r\n            },\r\n        };\r\n        if (preventDefaultConditions[type]()) {\r\n            e.preventDefault();\r\n        }\r\n        if (stopPropagation) {\r\n            e.stopPropagation();\r\n        }\r\n    };\r\n    ActionsHandler.prototype.setInitiated = function (type) {\r\n        if (type === void 0) { type = 0; }\r\n        this.initiated = type;\r\n    };\r\n    ActionsHandler.prototype.start = function (e) {\r\n        var _eventType = eventTypeMap[e.type];\r\n        if (this.initiated && this.initiated !== _eventType) {\r\n            return;\r\n        }\r\n        this.setInitiated(_eventType);\r\n        // if textarea or other html tags in options.tagException is manipulated\r\n        // do not make bs scroll\r\n        if (tagExceptionFn(e.target, this.options.tagException)) {\r\n            this.setInitiated();\r\n            return;\r\n        }\r\n        // only allow mouse left button\r\n        if (_eventType === 2 /* Mouse */ && e.button !== 0 /* Left */)\r\n            return;\r\n        if (this.hooks.trigger(this.hooks.eventTypes.beforeStart, e)) {\r\n            return;\r\n        }\r\n        this.beforeHandler(e, 'start');\r\n        var point = (e.touches ? e.touches[0] : e);\r\n        this.pointX = point.pageX;\r\n        this.pointY = point.pageY;\r\n        this.hooks.trigger(this.hooks.eventTypes.start, e);\r\n    };\r\n    ActionsHandler.prototype.move = function (e) {\r\n        if (eventTypeMap[e.type] !== this.initiated) {\r\n            return;\r\n        }\r\n        this.beforeHandler(e, 'move');\r\n        var point = (e.touches ? e.touches[0] : e);\r\n        var deltaX = point.pageX - this.pointX;\r\n        var deltaY = point.pageY - this.pointY;\r\n        this.pointX = point.pageX;\r\n        this.pointY = point.pageY;\r\n        if (this.hooks.trigger(this.hooks.eventTypes.move, {\r\n            deltaX: deltaX,\r\n            deltaY: deltaY,\r\n            e: e,\r\n        })) {\r\n            return;\r\n        }\r\n        // auto end when out of viewport\r\n        var scrollLeft = document.documentElement.scrollLeft ||\r\n            window.pageXOffset ||\r\n            document.body.scrollLeft;\r\n        var scrollTop = document.documentElement.scrollTop ||\r\n            window.pageYOffset ||\r\n            document.body.scrollTop;\r\n        var pX = this.pointX - scrollLeft;\r\n        var pY = this.pointY - scrollTop;\r\n        var autoEndDistance = this.options.autoEndDistance;\r\n        if (pX > document.documentElement.clientWidth - autoEndDistance ||\r\n            pY > document.documentElement.clientHeight - autoEndDistance ||\r\n            pX < autoEndDistance ||\r\n            pY < autoEndDistance) {\r\n            this.end(e);\r\n        }\r\n    };\r\n    ActionsHandler.prototype.end = function (e) {\r\n        if (eventTypeMap[e.type] !== this.initiated) {\r\n            return;\r\n        }\r\n        this.setInitiated();\r\n        this.beforeHandler(e, 'end');\r\n        this.hooks.trigger(this.hooks.eventTypes.end, e);\r\n    };\r\n    ActionsHandler.prototype.click = function (e) {\r\n        this.hooks.trigger(this.hooks.eventTypes.click, e);\r\n    };\r\n    ActionsHandler.prototype.setContent = function (content) {\r\n        if (content !== this.wrapper) {\r\n            this.wrapper = content;\r\n            this.wrapperEventRegister.destroy();\r\n            this.targetEventRegister.destroy();\r\n            this.handleDOMEvents();\r\n        }\r\n    };\r\n    ActionsHandler.prototype.destroy = function () {\r\n        this.wrapperEventRegister.destroy();\r\n        this.targetEventRegister.destroy();\r\n        this.hooks.destroy();\r\n    };\r\n    return ActionsHandler;\r\n}());\n\nvar translaterMetaData = {\r\n    x: ['translateX', 'px'],\r\n    y: ['translateY', 'px'],\r\n};\r\nvar Translater = /** @class */ (function () {\r\n    function Translater(content) {\r\n        this.setContent(content);\r\n        this.hooks = new EventEmitter(['beforeTranslate', 'translate']);\r\n    }\r\n    Translater.prototype.getComputedPosition = function () {\r\n        var cssStyle = window.getComputedStyle(this.content, null);\r\n        var matrix = cssStyle[style.transform].split(')')[0].split(', ');\r\n        var x = +(matrix[12] || matrix[4]) || 0;\r\n        var y = +(matrix[13] || matrix[5]) || 0;\r\n        return {\r\n            x: x,\r\n            y: y,\r\n        };\r\n    };\r\n    Translater.prototype.translate = function (point) {\r\n        var transformStyle = [];\r\n        Object.keys(point).forEach(function (key) {\r\n            if (!translaterMetaData[key]) {\r\n                return;\r\n            }\r\n            var transformFnName = translaterMetaData[key][0];\r\n            if (transformFnName) {\r\n                var transformFnArgUnit = translaterMetaData[key][1];\r\n                var transformFnArg = point[key];\r\n                transformStyle.push(transformFnName + \"(\" + transformFnArg + transformFnArgUnit + \")\");\r\n            }\r\n        });\r\n        this.hooks.trigger(this.hooks.eventTypes.beforeTranslate, transformStyle, point);\r\n        this.style[style.transform] = transformStyle.join(' ');\r\n        this.hooks.trigger(this.hooks.eventTypes.translate, point);\r\n    };\r\n    Translater.prototype.setContent = function (content) {\r\n        if (this.content !== content) {\r\n            this.content = content;\r\n            this.style = content.style;\r\n        }\r\n    };\r\n    Translater.prototype.destroy = function () {\r\n        this.hooks.destroy();\r\n    };\r\n    return Translater;\r\n}());\n\nvar Base = /** @class */ (function () {\r\n    function Base(content, translater, options) {\r\n        this.translater = translater;\r\n        this.options = options;\r\n        this.timer = 0;\r\n        this.hooks = new EventEmitter([\r\n            'move',\r\n            'end',\r\n            'beforeForceStop',\r\n            'forceStop',\r\n            'callStop',\r\n            'time',\r\n            'timeFunction',\r\n        ]);\r\n        this.setContent(content);\r\n    }\r\n    Base.prototype.translate = function (endPoint) {\r\n        this.translater.translate(endPoint);\r\n    };\r\n    Base.prototype.setPending = function (pending) {\r\n        this.pending = pending;\r\n    };\r\n    Base.prototype.setForceStopped = function (forceStopped) {\r\n        this.forceStopped = forceStopped;\r\n    };\r\n    Base.prototype.setContent = function (content) {\r\n        if (this.content !== content) {\r\n            this.content = content;\r\n            this.style = content.style;\r\n            this.stop();\r\n        }\r\n    };\r\n    Base.prototype.destroy = function () {\r\n        this.hooks.destroy();\r\n        cancelAnimationFrame(this.timer);\r\n    };\r\n    return Base;\r\n}());\n\nvar Transition = /** @class */ (function (_super) {\r\n    __extends(Transition, _super);\r\n    function Transition() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Transition.prototype.startProbe = function () {\r\n        var _this = this;\r\n        var probe = function () {\r\n            var pos = _this.translater.getComputedPosition();\r\n            _this.hooks.trigger(_this.hooks.eventTypes.move, pos);\r\n            // transition ends should dispatch end hook.\r\n            // but when call stop() in animation.hooks.move or bs.scroll\r\n            // should not dispatch end hook, because forceStop hook will do this.\r\n            if (!_this.pending && !_this.forceStopped) {\r\n                _this.hooks.trigger(_this.hooks.eventTypes.end, pos);\r\n            }\r\n            if (_this.pending) {\r\n                _this.timer = requestAnimationFrame(probe);\r\n            }\r\n        };\r\n        cancelAnimationFrame(this.timer);\r\n        probe();\r\n    };\r\n    Transition.prototype.transitionTime = function (time) {\r\n        if (time === void 0) { time = 0; }\r\n        this.style[style.transitionDuration] = time + 'ms';\r\n        this.hooks.trigger(this.hooks.eventTypes.time, time);\r\n    };\r\n    Transition.prototype.transitionTimingFunction = function (easing) {\r\n        this.style[style.transitionTimingFunction] = easing;\r\n        this.hooks.trigger(this.hooks.eventTypes.timeFunction, easing);\r\n    };\r\n    Transition.prototype.transitionProperty = function () {\r\n        this.style[style.transitionProperty] = style.transform;\r\n    };\r\n    Transition.prototype.move = function (startPoint, endPoint, time, easingFn) {\r\n        this.setPending(time > 0);\r\n        this.transitionTimingFunction(easingFn);\r\n        this.transitionProperty();\r\n        this.transitionTime(time);\r\n        this.translate(endPoint);\r\n        if (time && this.options.probeType === 3 /* Realtime */) {\r\n            this.startProbe();\r\n        }\r\n        // if we change content's transformY in a tick\r\n        // such as: 0 -> 50px -> 0\r\n        // transitionend will not be triggered\r\n        // so we forceupdate by reflow\r\n        if (!time) {\r\n            this._reflow = this.content.offsetHeight;\r\n            this.hooks.trigger(this.hooks.eventTypes.move, endPoint);\r\n            this.hooks.trigger(this.hooks.eventTypes.end, endPoint);\r\n        }\r\n    };\r\n    Transition.prototype.doStop = function () {\r\n        var pending = this.pending;\r\n        this.setForceStopped(false);\r\n        // still in transition\r\n        if (pending) {\r\n            this.setPending(false);\r\n            cancelAnimationFrame(this.timer);\r\n            var _a = this.translater.getComputedPosition(), x = _a.x, y = _a.y;\r\n            this.transitionTime();\r\n            this.translate({ x: x, y: y });\r\n            this.setForceStopped(true);\r\n            if (this.hooks.trigger(this.hooks.eventTypes.beforeForceStop, { x: x, y: y })) {\r\n                return true;\r\n            }\r\n            this.hooks.trigger(this.hooks.eventTypes.forceStop, { x: x, y: y });\r\n        }\r\n        return pending;\r\n    };\r\n    Transition.prototype.stop = function () {\r\n        var stopFromTransition = this.doStop();\r\n        if (stopFromTransition) {\r\n            this.hooks.trigger(this.hooks.eventTypes.callStop);\r\n            this.setForceStopped(false);\r\n        }\r\n    };\r\n    return Transition;\r\n}(Base));\n\nvar Animation = /** @class */ (function (_super) {\r\n    __extends(Animation, _super);\r\n    function Animation() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Animation.prototype.move = function (startPoint, endPoint, time, easingFn) {\r\n        // time is 0\r\n        if (!time) {\r\n            this.translate(endPoint);\r\n            this.hooks.trigger(this.hooks.eventTypes.move, endPoint);\r\n            this.hooks.trigger(this.hooks.eventTypes.end, endPoint);\r\n            return;\r\n        }\r\n        this.animate(startPoint, endPoint, time, easingFn);\r\n    };\r\n    Animation.prototype.animate = function (startPoint, endPoint, duration, easingFn) {\r\n        var _this = this;\r\n        var startTime = getNow();\r\n        var destTime = startTime + duration;\r\n        var step = function () {\r\n            var now = getNow();\r\n            // js animation end\r\n            if (now >= destTime) {\r\n                _this.translate(endPoint);\r\n                _this.hooks.trigger(_this.hooks.eventTypes.move, endPoint);\r\n                _this.hooks.trigger(_this.hooks.eventTypes.end, endPoint);\r\n                return;\r\n            }\r\n            now = (now - startTime) / duration;\r\n            var easing = easingFn(now);\r\n            var newPoint = {};\r\n            Object.keys(endPoint).forEach(function (key) {\r\n                var startValue = startPoint[key];\r\n                var endValue = endPoint[key];\r\n                newPoint[key] = (endValue - startValue) * easing + startValue;\r\n            });\r\n            _this.translate(newPoint);\r\n            if (_this.options.probeType === 3 /* Realtime */) {\r\n                _this.hooks.trigger(_this.hooks.eventTypes.move, newPoint);\r\n            }\r\n            if (_this.pending) {\r\n                _this.timer = requestAnimationFrame(step);\r\n            }\r\n            // when call stop() in animation.hooks.move or bs.scroll\r\n            // should not dispatch end hook, because forceStop hook will do this.\r\n            if (!_this.pending && !_this.forceStopped) {\r\n                _this.hooks.trigger(_this.hooks.eventTypes.end, endPoint);\r\n            }\r\n        };\r\n        this.setPending(true);\r\n        cancelAnimationFrame(this.timer);\r\n        step();\r\n    };\r\n    Animation.prototype.doStop = function () {\r\n        var pending = this.pending;\r\n        this.setForceStopped(false);\r\n        // still in requestFrameAnimation\r\n        if (pending) {\r\n            this.setPending(false);\r\n            cancelAnimationFrame(this.timer);\r\n            var pos = this.translater.getComputedPosition();\r\n            this.setForceStopped(true);\r\n            if (this.hooks.trigger(this.hooks.eventTypes.beforeForceStop, pos)) {\r\n                return true;\r\n            }\r\n            this.hooks.trigger(this.hooks.eventTypes.forceStop, pos);\r\n        }\r\n        return pending;\r\n    };\r\n    Animation.prototype.stop = function () {\r\n        var stopFromAnimation = this.doStop();\r\n        if (stopFromAnimation) {\r\n            this.hooks.trigger(this.hooks.eventTypes.callStop);\r\n            this.setForceStopped(false);\r\n        }\r\n    };\r\n    return Animation;\r\n}(Base));\n\nfunction createAnimater(element, translater, options) {\r\n    var useTransition = options.useTransition;\r\n    var animaterOptions = {};\r\n    Object.defineProperty(animaterOptions, 'probeType', {\r\n        enumerable: true,\r\n        configurable: false,\r\n        get: function () {\r\n            return options.probeType;\r\n        }\r\n    });\r\n    if (useTransition) {\r\n        return new Transition(element, translater, animaterOptions);\r\n    }\r\n    else {\r\n        return new Animation(element, translater, animaterOptions);\r\n    }\r\n}\n\nvar Behavior = /** @class */ (function () {\r\n    function Behavior(wrapper, content, options) {\r\n        this.wrapper = wrapper;\r\n        this.options = options;\r\n        this.hooks = new EventEmitter([\r\n            'beforeComputeBoundary',\r\n            'computeBoundary',\r\n            'momentum',\r\n            'end',\r\n            'ignoreHasScroll',\r\n        ]);\r\n        this.refresh(content);\r\n    }\r\n    Behavior.prototype.start = function () {\r\n        this.dist = 0;\r\n        this.setMovingDirection(0 /* Default */);\r\n        this.setDirection(0 /* Default */);\r\n    };\r\n    Behavior.prototype.move = function (delta) {\r\n        delta = this.hasScroll ? delta : 0;\r\n        this.setMovingDirection(delta);\r\n        return this.performDampingAlgorithm(delta, this.options.outOfBoundaryDampingFactor);\r\n    };\r\n    Behavior.prototype.setMovingDirection = function (delta) {\r\n        this.movingDirection =\r\n            delta > 0\r\n                ? -1 /* Negative */\r\n                : delta < 0\r\n                    ? 1 /* Positive */\r\n                    : 0 /* Default */;\r\n    };\r\n    Behavior.prototype.setDirection = function (delta) {\r\n        this.direction =\r\n            delta > 0\r\n                ? -1 /* Negative */\r\n                : delta < 0\r\n                    ? 1 /* Positive */\r\n                    : 0 /* Default */;\r\n    };\r\n    Behavior.prototype.performDampingAlgorithm = function (delta, dampingFactor) {\r\n        var newPos = this.currentPos + delta;\r\n        // Slow down or stop if outside of the boundaries\r\n        if (newPos > this.minScrollPos || newPos < this.maxScrollPos) {\r\n            if ((newPos > this.minScrollPos && this.options.bounces[0]) ||\r\n                (newPos < this.maxScrollPos && this.options.bounces[1])) {\r\n                newPos = this.currentPos + delta * dampingFactor;\r\n            }\r\n            else {\r\n                newPos =\r\n                    newPos > this.minScrollPos ? this.minScrollPos : this.maxScrollPos;\r\n            }\r\n        }\r\n        return newPos;\r\n    };\r\n    Behavior.prototype.end = function (duration) {\r\n        var momentumInfo = {\r\n            duration: 0,\r\n        };\r\n        var absDist = Math.abs(this.currentPos - this.startPos);\r\n        // start momentum animation if needed\r\n        if (this.options.momentum &&\r\n            duration < this.options.momentumLimitTime &&\r\n            absDist > this.options.momentumLimitDistance) {\r\n            var wrapperSize = (this.direction === -1 /* Negative */ && this.options.bounces[0]) ||\r\n                (this.direction === 1 /* Positive */ && this.options.bounces[1])\r\n                ? this.wrapperSize\r\n                : 0;\r\n            momentumInfo = this.hasScroll\r\n                ? this.momentum(this.currentPos, this.startPos, duration, this.maxScrollPos, this.minScrollPos, wrapperSize, this.options)\r\n                : { destination: this.currentPos, duration: 0 };\r\n        }\r\n        else {\r\n            this.hooks.trigger(this.hooks.eventTypes.end, momentumInfo);\r\n        }\r\n        return momentumInfo;\r\n    };\r\n    Behavior.prototype.momentum = function (current, start, time, lowerMargin, upperMargin, wrapperSize, options) {\r\n        if (options === void 0) { options = this.options; }\r\n        var distance = current - start;\r\n        var speed = Math.abs(distance) / time;\r\n        var deceleration = options.deceleration, swipeBounceTime = options.swipeBounceTime, swipeTime = options.swipeTime;\r\n        var momentumData = {\r\n            destination: current + (speed / deceleration) * (distance < 0 ? -1 : 1),\r\n            duration: swipeTime,\r\n            rate: 15,\r\n        };\r\n        this.hooks.trigger(this.hooks.eventTypes.momentum, momentumData, distance);\r\n        if (momentumData.destination < lowerMargin) {\r\n            momentumData.destination = wrapperSize\r\n                ? Math.max(lowerMargin - wrapperSize / 4, lowerMargin - (wrapperSize / momentumData.rate) * speed)\r\n                : lowerMargin;\r\n            momentumData.duration = swipeBounceTime;\r\n        }\r\n        else if (momentumData.destination > upperMargin) {\r\n            momentumData.destination = wrapperSize\r\n                ? Math.min(upperMargin + wrapperSize / 4, upperMargin + (wrapperSize / momentumData.rate) * speed)\r\n                : upperMargin;\r\n            momentumData.duration = swipeBounceTime;\r\n        }\r\n        momentumData.destination = Math.round(momentumData.destination);\r\n        return momentumData;\r\n    };\r\n    Behavior.prototype.updateDirection = function () {\r\n        var absDist = Math.round(this.currentPos) - this.absStartPos;\r\n        this.setDirection(absDist);\r\n    };\r\n    Behavior.prototype.refresh = function (content) {\r\n        var _a = this.options.rect, size = _a.size, position = _a.position;\r\n        var isWrapperStatic = window.getComputedStyle(this.wrapper, null).position === 'static';\r\n        var wrapperRect = getRect(this.wrapper);\r\n        this.wrapperSize = wrapperRect[size];\r\n        this.setContent(content);\r\n        var contentRect = getRect(this.content);\r\n        this.contentSize = contentRect[size];\r\n        this.relativeOffset = contentRect[position];\r\n        if (isWrapperStatic) {\r\n            this.relativeOffset -= wrapperRect[position];\r\n        }\r\n        this.computeBoundary();\r\n        this.setDirection(0 /* Default */);\r\n    };\r\n    Behavior.prototype.setContent = function (content) {\r\n        if (content !== this.content) {\r\n            this.content = content;\r\n            this.resetState();\r\n        }\r\n    };\r\n    Behavior.prototype.resetState = function () {\r\n        this.currentPos = 0;\r\n        this.startPos = 0;\r\n        this.dist = 0;\r\n        this.setDirection(0 /* Default */);\r\n        this.setMovingDirection(0 /* Default */);\r\n        this.resetStartPos();\r\n    };\r\n    Behavior.prototype.computeBoundary = function () {\r\n        this.hooks.trigger(this.hooks.eventTypes.beforeComputeBoundary);\r\n        var boundary = {\r\n            minScrollPos: 0,\r\n            maxScrollPos: this.wrapperSize - this.contentSize,\r\n        };\r\n        if (boundary.maxScrollPos < 0) {\r\n            boundary.maxScrollPos -= this.relativeOffset;\r\n            if (this.options.specifiedIndexAsContent === 0) {\r\n                boundary.minScrollPos = -this.relativeOffset;\r\n            }\r\n        }\r\n        this.hooks.trigger(this.hooks.eventTypes.computeBoundary, boundary);\r\n        this.minScrollPos = boundary.minScrollPos;\r\n        this.maxScrollPos = boundary.maxScrollPos;\r\n        this.hasScroll =\r\n            this.options.scrollable && this.maxScrollPos < this.minScrollPos;\r\n        if (!this.hasScroll && this.minScrollPos < this.maxScrollPos) {\r\n            this.maxScrollPos = this.minScrollPos;\r\n            this.contentSize = this.wrapperSize;\r\n        }\r\n    };\r\n    Behavior.prototype.updatePosition = function (pos) {\r\n        this.currentPos = pos;\r\n    };\r\n    Behavior.prototype.getCurrentPos = function () {\r\n        return Math.round(this.currentPos);\r\n    };\r\n    Behavior.prototype.checkInBoundary = function () {\r\n        var position = this.adjustPosition(this.currentPos);\r\n        var inBoundary = position === this.getCurrentPos();\r\n        return {\r\n            position: position,\r\n            inBoundary: inBoundary,\r\n        };\r\n    };\r\n    // adjust position when out of boundary\r\n    Behavior.prototype.adjustPosition = function (pos) {\r\n        var roundPos = Math.round(pos);\r\n        if (!this.hasScroll &&\r\n            !this.hooks.trigger(this.hooks.eventTypes.ignoreHasScroll)) {\r\n            roundPos = this.minScrollPos;\r\n        }\r\n        else if (roundPos > this.minScrollPos) {\r\n            roundPos = this.minScrollPos;\r\n        }\r\n        else if (roundPos < this.maxScrollPos) {\r\n            roundPos = this.maxScrollPos;\r\n        }\r\n        return roundPos;\r\n    };\r\n    Behavior.prototype.updateStartPos = function () {\r\n        this.startPos = this.currentPos;\r\n    };\r\n    Behavior.prototype.updateAbsStartPos = function () {\r\n        this.absStartPos = this.currentPos;\r\n    };\r\n    Behavior.prototype.resetStartPos = function () {\r\n        this.updateStartPos();\r\n        this.updateAbsStartPos();\r\n    };\r\n    Behavior.prototype.getAbsDist = function (delta) {\r\n        this.dist += delta;\r\n        return Math.abs(this.dist);\r\n    };\r\n    Behavior.prototype.destroy = function () {\r\n        this.hooks.destroy();\r\n    };\r\n    return Behavior;\r\n}());\n\nvar _a, _b, _c, _d;\r\nvar PassthroughHandlers = (_a = {},\r\n    _a[\"yes\" /* Yes */] = function (e) {\r\n        return true;\r\n    },\r\n    _a[\"no\" /* No */] = function (e) {\r\n        e.preventDefault();\r\n        return false;\r\n    },\r\n    _a);\r\nvar DirectionMap = (_b = {},\r\n    _b[\"horizontal\" /* Horizontal */] = (_c = {},\r\n        _c[\"yes\" /* Yes */] = \"horizontal\" /* Horizontal */,\r\n        _c[\"no\" /* No */] = \"vertical\" /* Vertical */,\r\n        _c),\r\n    _b[\"vertical\" /* Vertical */] = (_d = {},\r\n        _d[\"yes\" /* Yes */] = \"vertical\" /* Vertical */,\r\n        _d[\"no\" /* No */] = \"horizontal\" /* Horizontal */,\r\n        _d),\r\n    _b);\r\nvar DirectionLockAction = /** @class */ (function () {\r\n    function DirectionLockAction(directionLockThreshold, freeScroll, eventPassthrough) {\r\n        this.directionLockThreshold = directionLockThreshold;\r\n        this.freeScroll = freeScroll;\r\n        this.eventPassthrough = eventPassthrough;\r\n        this.reset();\r\n    }\r\n    DirectionLockAction.prototype.reset = function () {\r\n        this.directionLocked = \"\" /* Default */;\r\n    };\r\n    DirectionLockAction.prototype.checkMovingDirection = function (absDistX, absDistY, e) {\r\n        this.computeDirectionLock(absDistX, absDistY);\r\n        return this.handleEventPassthrough(e);\r\n    };\r\n    DirectionLockAction.prototype.adjustDelta = function (deltaX, deltaY) {\r\n        if (this.directionLocked === \"horizontal\" /* Horizontal */) {\r\n            deltaY = 0;\r\n        }\r\n        else if (this.directionLocked === \"vertical\" /* Vertical */) {\r\n            deltaX = 0;\r\n        }\r\n        return {\r\n            deltaX: deltaX,\r\n            deltaY: deltaY\r\n        };\r\n    };\r\n    DirectionLockAction.prototype.computeDirectionLock = function (absDistX, absDistY) {\r\n        // If you are scrolling in one direction, lock it\r\n        if (this.directionLocked === \"\" /* Default */ && !this.freeScroll) {\r\n            if (absDistX > absDistY + this.directionLockThreshold) {\r\n                this.directionLocked = \"horizontal\" /* Horizontal */; // lock horizontally\r\n            }\r\n            else if (absDistY >= absDistX + this.directionLockThreshold) {\r\n                this.directionLocked = \"vertical\" /* Vertical */; // lock vertically\r\n            }\r\n            else {\r\n                this.directionLocked = \"none\" /* None */; // no lock\r\n            }\r\n        }\r\n    };\r\n    DirectionLockAction.prototype.handleEventPassthrough = function (e) {\r\n        var handleMap = DirectionMap[this.directionLocked];\r\n        if (handleMap) {\r\n            if (this.eventPassthrough === handleMap[\"yes\" /* Yes */]) {\r\n                return PassthroughHandlers[\"yes\" /* Yes */](e);\r\n            }\r\n            else if (this.eventPassthrough === handleMap[\"no\" /* No */]) {\r\n                return PassthroughHandlers[\"no\" /* No */](e);\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    return DirectionLockAction;\r\n}());\n\nvar ScrollerActions = /** @class */ (function () {\r\n    function ScrollerActions(scrollBehaviorX, scrollBehaviorY, actionsHandler, animater, options) {\r\n        this.hooks = new EventEmitter([\r\n            'start',\r\n            'beforeMove',\r\n            'scrollStart',\r\n            'scroll',\r\n            'beforeEnd',\r\n            'end',\r\n            'scrollEnd'\r\n        ]);\r\n        this.scrollBehaviorX = scrollBehaviorX;\r\n        this.scrollBehaviorY = scrollBehaviorY;\r\n        this.actionsHandler = actionsHandler;\r\n        this.animater = animater;\r\n        this.options = options;\r\n        this.directionLockAction = new DirectionLockAction(options.directionLockThreshold, options.freeScroll, options.eventPassthrough);\r\n        this.enabled = true;\r\n        this.bindActionsHandler();\r\n    }\r\n    ScrollerActions.prototype.bindActionsHandler = function () {\r\n        var _this = this;\r\n        // [mouse|touch]start event\r\n        this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.start, function (e) {\r\n            if (!_this.enabled)\r\n                return true;\r\n            return _this.handleStart(e);\r\n        });\r\n        // [mouse|touch]move event\r\n        this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.move, function (_a) {\r\n            var deltaX = _a.deltaX, deltaY = _a.deltaY, e = _a.e;\r\n            if (!_this.enabled)\r\n                return true;\r\n            return _this.handleMove(deltaX, deltaY, e);\r\n        });\r\n        // [mouse|touch]end event\r\n        this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.end, function (e) {\r\n            if (!_this.enabled)\r\n                return true;\r\n            return _this.handleEnd(e);\r\n        });\r\n        // click\r\n        this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.click, function (e) {\r\n            // handle native click event\r\n            if (_this.enabled && !e._constructed) {\r\n                _this.handleClick(e);\r\n            }\r\n        });\r\n    };\r\n    ScrollerActions.prototype.handleStart = function (e) {\r\n        var timestamp = getNow();\r\n        this.moved = false;\r\n        this.startTime = timestamp;\r\n        this.directionLockAction.reset();\r\n        this.scrollBehaviorX.start();\r\n        this.scrollBehaviorY.start();\r\n        // force stopping last transition or animation\r\n        this.animater.doStop();\r\n        this.scrollBehaviorX.resetStartPos();\r\n        this.scrollBehaviorY.resetStartPos();\r\n        this.hooks.trigger(this.hooks.eventTypes.start, e);\r\n    };\r\n    ScrollerActions.prototype.handleMove = function (deltaX, deltaY, e) {\r\n        if (this.hooks.trigger(this.hooks.eventTypes.beforeMove, e)) {\r\n            return;\r\n        }\r\n        var absDistX = this.scrollBehaviorX.getAbsDist(deltaX);\r\n        var absDistY = this.scrollBehaviorY.getAbsDist(deltaY);\r\n        var timestamp = getNow();\r\n        // We need to move at least momentumLimitDistance pixels\r\n        // for the scrolling to initiate\r\n        if (this.checkMomentum(absDistX, absDistY, timestamp)) {\r\n            return true;\r\n        }\r\n        if (this.directionLockAction.checkMovingDirection(absDistX, absDistY, e)) {\r\n            this.actionsHandler.setInitiated();\r\n            return true;\r\n        }\r\n        var delta = this.directionLockAction.adjustDelta(deltaX, deltaY);\r\n        var newX = this.scrollBehaviorX.move(delta.deltaX);\r\n        var newY = this.scrollBehaviorY.move(delta.deltaY);\r\n        if (!this.moved) {\r\n            this.moved = true;\r\n            this.hooks.trigger(this.hooks.eventTypes.scrollStart);\r\n        }\r\n        this.animater.translate({\r\n            x: newX,\r\n            y: newY\r\n        });\r\n        this.dispatchScroll(timestamp);\r\n    };\r\n    ScrollerActions.prototype.dispatchScroll = function (timestamp) {\r\n        // dispatch scroll in interval time\r\n        if (timestamp - this.startTime > this.options.momentumLimitTime) {\r\n            // refresh time and starting position to initiate a momentum\r\n            this.startTime = timestamp;\r\n            this.scrollBehaviorX.updateStartPos();\r\n            this.scrollBehaviorY.updateStartPos();\r\n            if (this.options.probeType === 1 /* Throttle */) {\r\n                this.hooks.trigger(this.hooks.eventTypes.scroll, this.getCurrentPos());\r\n            }\r\n        }\r\n        // dispatch scroll all the time\r\n        if (this.options.probeType > 1 /* Throttle */) {\r\n            this.hooks.trigger(this.hooks.eventTypes.scroll, this.getCurrentPos());\r\n        }\r\n    };\r\n    ScrollerActions.prototype.checkMomentum = function (absDistX, absDistY, timestamp) {\r\n        return (timestamp - this.endTime > this.options.momentumLimitTime &&\r\n            absDistY < this.options.momentumLimitDistance &&\r\n            absDistX < this.options.momentumLimitDistance);\r\n    };\r\n    ScrollerActions.prototype.handleEnd = function (e) {\r\n        if (this.hooks.trigger(this.hooks.eventTypes.beforeEnd, e)) {\r\n            return;\r\n        }\r\n        var currentPos = this.getCurrentPos();\r\n        this.scrollBehaviorX.updateDirection();\r\n        this.scrollBehaviorY.updateDirection();\r\n        if (this.hooks.trigger(this.hooks.eventTypes.end, e, currentPos)) {\r\n            return true;\r\n        }\r\n        this.animater.translate(currentPos);\r\n        this.endTime = getNow();\r\n        var duration = this.endTime - this.startTime;\r\n        this.hooks.trigger(this.hooks.eventTypes.scrollEnd, currentPos, duration);\r\n    };\r\n    ScrollerActions.prototype.handleClick = function (e) {\r\n        if (!preventDefaultExceptionFn(e.target, this.options.preventDefaultException)) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        }\r\n    };\r\n    ScrollerActions.prototype.getCurrentPos = function () {\r\n        return {\r\n            x: this.scrollBehaviorX.getCurrentPos(),\r\n            y: this.scrollBehaviorY.getCurrentPos()\r\n        };\r\n    };\r\n    ScrollerActions.prototype.refresh = function () {\r\n        this.endTime = 0;\r\n    };\r\n    ScrollerActions.prototype.destroy = function () {\r\n        this.hooks.destroy();\r\n    };\r\n    return ScrollerActions;\r\n}());\n\nfunction createActionsHandlerOptions(bsOptions) {\r\n    var options = [\r\n        'click',\r\n        'bindToWrapper',\r\n        'disableMouse',\r\n        'disableTouch',\r\n        'preventDefault',\r\n        'stopPropagation',\r\n        'tagException',\r\n        'preventDefaultException',\r\n        'autoEndDistance',\r\n    ].reduce(function (prev, cur) {\r\n        prev[cur] = bsOptions[cur];\r\n        return prev;\r\n    }, {});\r\n    return options;\r\n}\r\nfunction createBehaviorOptions(bsOptions, extraProp, bounces, rect) {\r\n    var options = [\r\n        'momentum',\r\n        'momentumLimitTime',\r\n        'momentumLimitDistance',\r\n        'deceleration',\r\n        'swipeBounceTime',\r\n        'swipeTime',\r\n        'outOfBoundaryDampingFactor',\r\n        'specifiedIndexAsContent',\r\n    ].reduce(function (prev, cur) {\r\n        prev[cur] = bsOptions[cur];\r\n        return prev;\r\n    }, {});\r\n    // add extra property\r\n    options.scrollable = !!bsOptions[extraProp];\r\n    options.bounces = bounces;\r\n    options.rect = rect;\r\n    return options;\r\n}\n\nfunction bubbling(source, target, events) {\r\n    events.forEach(function (event) {\r\n        var sourceEvent;\r\n        var targetEvent;\r\n        if (typeof event === 'string') {\r\n            sourceEvent = targetEvent = event;\r\n        }\r\n        else {\r\n            sourceEvent = event.source;\r\n            targetEvent = event.target;\r\n        }\r\n        source.on(sourceEvent, function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            return target.trigger.apply(target, __spreadArrays([targetEvent], args));\r\n        });\r\n    });\r\n}\n\nfunction isSamePoint(startPoint, endPoint) {\r\n    // keys of startPoint and endPoint should be equal\r\n    var keys = Object.keys(startPoint);\r\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\r\n        var key = keys_1[_i];\r\n        if (startPoint[key] !== endPoint[key])\r\n            return false;\r\n    }\r\n    return true;\r\n}\n\nvar Scroller = /** @class */ (function () {\r\n    function Scroller(wrapper, content, options) {\r\n        this.wrapper = wrapper;\r\n        this.content = content;\r\n        this.resizeTimeout = 0;\r\n        this.hooks = new EventEmitter([\r\n            'beforeStart',\r\n            'beforeMove',\r\n            'beforeScrollStart',\r\n            'scrollStart',\r\n            'scroll',\r\n            'beforeEnd',\r\n            'scrollEnd',\r\n            'resize',\r\n            'touchEnd',\r\n            'end',\r\n            'flick',\r\n            'scrollCancel',\r\n            'momentum',\r\n            'scrollTo',\r\n            'scrollToElement',\r\n            'beforeRefresh',\r\n        ]);\r\n        this.options = options;\r\n        var _a = this.options.bounce, left = _a.left, right = _a.right, top = _a.top, bottom = _a.bottom;\r\n        // direction X\r\n        this.scrollBehaviorX = new Behavior(wrapper, content, createBehaviorOptions(options, 'scrollX', [left, right], {\r\n            size: 'width',\r\n            position: 'left',\r\n        }));\r\n        // direction Y\r\n        this.scrollBehaviorY = new Behavior(wrapper, content, createBehaviorOptions(options, 'scrollY', [top, bottom], {\r\n            size: 'height',\r\n            position: 'top',\r\n        }));\r\n        this.translater = new Translater(this.content);\r\n        this.animater = createAnimater(this.content, this.translater, this.options);\r\n        this.actionsHandler = new ActionsHandler(this.options.bindToTarget ? this.content : wrapper, createActionsHandlerOptions(this.options));\r\n        this.actions = new ScrollerActions(this.scrollBehaviorX, this.scrollBehaviorY, this.actionsHandler, this.animater, this.options);\r\n        var resizeHandler = this.resize.bind(this);\r\n        this.resizeRegister = new EventRegister(window, [\r\n            {\r\n                name: 'orientationchange',\r\n                handler: resizeHandler,\r\n            },\r\n            {\r\n                name: 'resize',\r\n                handler: resizeHandler,\r\n            },\r\n        ]);\r\n        this.registerTransitionEnd();\r\n        this.init();\r\n    }\r\n    Scroller.prototype.init = function () {\r\n        var _this = this;\r\n        this.bindTranslater();\r\n        this.bindAnimater();\r\n        this.bindActions();\r\n        // enable pointer events when scrolling ends\r\n        this.hooks.on(this.hooks.eventTypes.scrollEnd, function () {\r\n            _this.togglePointerEvents(true);\r\n        });\r\n    };\r\n    Scroller.prototype.registerTransitionEnd = function () {\r\n        this.transitionEndRegister = new EventRegister(this.content, [\r\n            {\r\n                name: style.transitionEnd,\r\n                handler: this.transitionEnd.bind(this),\r\n            },\r\n        ]);\r\n    };\r\n    Scroller.prototype.bindTranslater = function () {\r\n        var _this = this;\r\n        var hooks = this.translater.hooks;\r\n        hooks.on(hooks.eventTypes.beforeTranslate, function (transformStyle) {\r\n            if (_this.options.translateZ) {\r\n                transformStyle.push(_this.options.translateZ);\r\n            }\r\n        });\r\n        // disable pointer events when scrolling\r\n        hooks.on(hooks.eventTypes.translate, function (pos) {\r\n            var prevPos = _this.getCurrentPos();\r\n            _this.updatePositions(pos);\r\n            // a valid translate\r\n            if (pos.x !== prevPos.x || pos.y !== prevPos.y) {\r\n                _this.togglePointerEvents(false);\r\n            }\r\n        });\r\n    };\r\n    Scroller.prototype.bindAnimater = function () {\r\n        var _this = this;\r\n        // reset position\r\n        this.animater.hooks.on(this.animater.hooks.eventTypes.end, function (pos) {\r\n            if (!_this.resetPosition(_this.options.bounceTime)) {\r\n                _this.animater.setPending(false);\r\n                _this.hooks.trigger(_this.hooks.eventTypes.scrollEnd, pos);\r\n            }\r\n        });\r\n        bubbling(this.animater.hooks, this.hooks, [\r\n            {\r\n                source: this.animater.hooks.eventTypes.move,\r\n                target: this.hooks.eventTypes.scroll,\r\n            },\r\n            {\r\n                source: this.animater.hooks.eventTypes.forceStop,\r\n                target: this.hooks.eventTypes.scrollEnd,\r\n            },\r\n        ]);\r\n    };\r\n    Scroller.prototype.bindActions = function () {\r\n        var _this = this;\r\n        var actions = this.actions;\r\n        bubbling(actions.hooks, this.hooks, [\r\n            {\r\n                source: actions.hooks.eventTypes.start,\r\n                target: this.hooks.eventTypes.beforeStart,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.start,\r\n                target: this.hooks.eventTypes.beforeScrollStart,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.beforeMove,\r\n                target: this.hooks.eventTypes.beforeMove,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.scrollStart,\r\n                target: this.hooks.eventTypes.scrollStart,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.scroll,\r\n                target: this.hooks.eventTypes.scroll,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.beforeEnd,\r\n                target: this.hooks.eventTypes.beforeEnd,\r\n            },\r\n        ]);\r\n        actions.hooks.on(actions.hooks.eventTypes.end, function (e, pos) {\r\n            _this.hooks.trigger(_this.hooks.eventTypes.touchEnd, pos);\r\n            if (_this.hooks.trigger(_this.hooks.eventTypes.end, pos)) {\r\n                return true;\r\n            }\r\n            // check if it is a click operation\r\n            if (!actions.moved) {\r\n                _this.hooks.trigger(_this.hooks.eventTypes.scrollCancel);\r\n                if (_this.checkClick(e)) {\r\n                    return true;\r\n                }\r\n            }\r\n            // reset if we are outside of the boundaries\r\n            if (_this.resetPosition(_this.options.bounceTime, ease.bounce)) {\r\n                _this.animater.setForceStopped(false);\r\n                return true;\r\n            }\r\n        });\r\n        actions.hooks.on(actions.hooks.eventTypes.scrollEnd, function (pos, duration) {\r\n            var deltaX = Math.abs(pos.x - _this.scrollBehaviorX.startPos);\r\n            var deltaY = Math.abs(pos.y - _this.scrollBehaviorY.startPos);\r\n            if (_this.checkFlick(duration, deltaX, deltaY)) {\r\n                _this.animater.setForceStopped(false);\r\n                _this.hooks.trigger(_this.hooks.eventTypes.flick);\r\n                return;\r\n            }\r\n            if (_this.momentum(pos, duration)) {\r\n                _this.animater.setForceStopped(false);\r\n                return;\r\n            }\r\n            // force stop from transition or animation when click a point\r\n            if (!_this.animater.forceStopped || actions.moved) {\r\n                _this.hooks.trigger(_this.hooks.eventTypes.scrollEnd, pos);\r\n            }\r\n            else {\r\n                _this.animater.setForceStopped(false);\r\n            }\r\n        });\r\n    };\r\n    Scroller.prototype.checkFlick = function (duration, deltaX, deltaY) {\r\n        var flickMinMovingDistance = 1; // distinguish flick from click\r\n        if (this.hooks.events.flick.length > 1 &&\r\n            duration < this.options.flickLimitTime &&\r\n            deltaX < this.options.flickLimitDistance &&\r\n            deltaY < this.options.flickLimitDistance &&\r\n            (deltaY > flickMinMovingDistance || deltaX > flickMinMovingDistance)) {\r\n            return true;\r\n        }\r\n    };\r\n    Scroller.prototype.momentum = function (pos, duration) {\r\n        var meta = {\r\n            time: 0,\r\n            easing: ease.swiper,\r\n            newX: pos.x,\r\n            newY: pos.y,\r\n        };\r\n        // start momentum animation if needed\r\n        var momentumX = this.scrollBehaviorX.end(duration);\r\n        var momentumY = this.scrollBehaviorY.end(duration);\r\n        meta.newX = isUndef(momentumX.destination)\r\n            ? meta.newX\r\n            : momentumX.destination;\r\n        meta.newY = isUndef(momentumY.destination)\r\n            ? meta.newY\r\n            : momentumY.destination;\r\n        meta.time = Math.max(momentumX.duration, momentumY.duration);\r\n        this.hooks.trigger(this.hooks.eventTypes.momentum, meta, this);\r\n        // when x or y changed, do momentum animation now!\r\n        if (meta.newX !== pos.x || meta.newY !== pos.y) {\r\n            // change easing function when scroller goes out of the boundaries\r\n            if (meta.newX > this.scrollBehaviorX.minScrollPos ||\r\n                meta.newX < this.scrollBehaviorX.maxScrollPos ||\r\n                meta.newY > this.scrollBehaviorY.minScrollPos ||\r\n                meta.newY < this.scrollBehaviorY.maxScrollPos) {\r\n                meta.easing = ease.swipeBounce;\r\n            }\r\n            this.scrollTo(meta.newX, meta.newY, meta.time, meta.easing);\r\n            return true;\r\n        }\r\n    };\r\n    Scroller.prototype.checkClick = function (e) {\r\n        var cancelable = {\r\n            preventClick: this.animater.forceStopped,\r\n        };\r\n        // we scrolled less than momentumLimitDistance pixels\r\n        if (this.hooks.trigger(this.hooks.eventTypes.checkClick)) {\r\n            this.animater.setForceStopped(false);\r\n            return true;\r\n        }\r\n        if (!cancelable.preventClick) {\r\n            var _dblclick = this.options.dblclick;\r\n            var dblclickTrigged = false;\r\n            if (_dblclick && this.lastClickTime) {\r\n                var _a = _dblclick.delay, delay = _a === void 0 ? 300 : _a;\r\n                if (getNow() - this.lastClickTime < delay) {\r\n                    dblclickTrigged = true;\r\n                    dblclick(e);\r\n                }\r\n            }\r\n            if (this.options.tap) {\r\n                tap(e, this.options.tap);\r\n            }\r\n            if (this.options.click &&\r\n                !preventDefaultExceptionFn(e.target, this.options.preventDefaultException)) {\r\n                click(e);\r\n            }\r\n            this.lastClickTime = dblclickTrigged ? null : getNow();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    Scroller.prototype.resize = function () {\r\n        var _this = this;\r\n        if (!this.actions.enabled) {\r\n            return;\r\n        }\r\n        // fix a scroll problem under Android condition\r\n        if (isAndroid) {\r\n            this.wrapper.scrollTop = 0;\r\n        }\r\n        clearTimeout(this.resizeTimeout);\r\n        this.resizeTimeout = window.setTimeout(function () {\r\n            _this.hooks.trigger(_this.hooks.eventTypes.resize);\r\n        }, this.options.resizePolling);\r\n    };\r\n    Scroller.prototype.transitionEnd = function (e) {\r\n        if (e.target !== this.content || !this.animater.pending) {\r\n            return;\r\n        }\r\n        var animater = this.animater;\r\n        animater.transitionTime();\r\n        if (!this.resetPosition(this.options.bounceTime, ease.bounce)) {\r\n            this.animater.setPending(false);\r\n            if (this.options.probeType !== 3 /* Realtime */) {\r\n                this.hooks.trigger(this.hooks.eventTypes.scrollEnd, this.getCurrentPos());\r\n            }\r\n        }\r\n    };\r\n    Scroller.prototype.togglePointerEvents = function (enabled) {\r\n        if (enabled === void 0) { enabled = true; }\r\n        var el = this.content.children.length\r\n            ? this.content.children\r\n            : [this.content];\r\n        var pointerEvents = enabled ? 'auto' : 'none';\r\n        for (var i = 0; i < el.length; i++) {\r\n            var node = el[i];\r\n            // ignore BetterScroll instance's wrapper DOM\r\n            if (node.isBScrollContainer) {\r\n                continue;\r\n            }\r\n            node.style.pointerEvents = pointerEvents;\r\n        }\r\n    };\r\n    Scroller.prototype.refresh = function (content) {\r\n        var contentChanged = this.setContent(content);\r\n        this.hooks.trigger(this.hooks.eventTypes.beforeRefresh);\r\n        this.scrollBehaviorX.refresh(content);\r\n        this.scrollBehaviorY.refresh(content);\r\n        if (contentChanged) {\r\n            this.translater.setContent(content);\r\n            this.animater.setContent(content);\r\n            this.transitionEndRegister.destroy();\r\n            this.registerTransitionEnd();\r\n            if (this.options.bindToTarget) {\r\n                this.actionsHandler.setContent(content);\r\n            }\r\n        }\r\n        this.actions.refresh();\r\n        this.wrapperOffset = offset(this.wrapper);\r\n    };\r\n    Scroller.prototype.setContent = function (content) {\r\n        var contentChanged = content !== this.content;\r\n        if (contentChanged) {\r\n            this.content = content;\r\n        }\r\n        return contentChanged;\r\n    };\r\n    Scroller.prototype.scrollBy = function (deltaX, deltaY, time, easing) {\r\n        if (time === void 0) { time = 0; }\r\n        var _a = this.getCurrentPos(), x = _a.x, y = _a.y;\r\n        easing = !easing ? ease.bounce : easing;\r\n        deltaX += x;\r\n        deltaY += y;\r\n        this.scrollTo(deltaX, deltaY, time, easing);\r\n    };\r\n    Scroller.prototype.scrollTo = function (x, y, time, easing, extraTransform) {\r\n        if (time === void 0) { time = 0; }\r\n        if (easing === void 0) { easing = ease.bounce; }\r\n        if (extraTransform === void 0) { extraTransform = {\r\n            start: {},\r\n            end: {},\r\n        }; }\r\n        var easingFn = this.options.useTransition ? easing.style : easing.fn;\r\n        var currentPos = this.getCurrentPos();\r\n        var startPoint = __assign({ x: currentPos.x, y: currentPos.y }, extraTransform.start);\r\n        var endPoint = __assign({ x: x,\r\n            y: y }, extraTransform.end);\r\n        this.hooks.trigger(this.hooks.eventTypes.scrollTo, endPoint);\r\n        // it is an useless move\r\n        if (isSamePoint(startPoint, endPoint))\r\n            return;\r\n        this.animater.move(startPoint, endPoint, time, easingFn);\r\n    };\r\n    Scroller.prototype.scrollToElement = function (el, time, offsetX, offsetY, easing) {\r\n        var targetEle = getElement(el);\r\n        var pos = offset(targetEle);\r\n        var getOffset = function (offset, size, wrapperSize) {\r\n            if (typeof offset === 'number') {\r\n                return offset;\r\n            }\r\n            // if offsetX/Y are true we center the element to the screen\r\n            return offset ? Math.round(size / 2 - wrapperSize / 2) : 0;\r\n        };\r\n        offsetX = getOffset(offsetX, targetEle.offsetWidth, this.wrapper.offsetWidth);\r\n        offsetY = getOffset(offsetY, targetEle.offsetHeight, this.wrapper.offsetHeight);\r\n        var getPos = function (pos, wrapperPos, offset, scrollBehavior) {\r\n            pos -= wrapperPos;\r\n            pos = scrollBehavior.adjustPosition(pos - offset);\r\n            return pos;\r\n        };\r\n        pos.left = getPos(pos.left, this.wrapperOffset.left, offsetX, this.scrollBehaviorX);\r\n        pos.top = getPos(pos.top, this.wrapperOffset.top, offsetY, this.scrollBehaviorY);\r\n        if (this.hooks.trigger(this.hooks.eventTypes.scrollToElement, targetEle, pos)) {\r\n            return;\r\n        }\r\n        this.scrollTo(pos.left, pos.top, time, easing);\r\n    };\r\n    Scroller.prototype.resetPosition = function (time, easing) {\r\n        if (time === void 0) { time = 0; }\r\n        if (easing === void 0) { easing = ease.bounce; }\r\n        var _a = this.scrollBehaviorX.checkInBoundary(), x = _a.position, xInBoundary = _a.inBoundary;\r\n        var _b = this.scrollBehaviorY.checkInBoundary(), y = _b.position, yInBoundary = _b.inBoundary;\r\n        if (xInBoundary && yInBoundary) {\r\n            return false;\r\n        }\r\n        if (isIOSBadVersion) {\r\n            // fix ios 13.4 bouncing\r\n            // see it in issues 982\r\n            this._reflow = this.content.offsetHeight;\r\n        }\r\n        // out of boundary\r\n        this.scrollTo(x, y, time, easing);\r\n        return true;\r\n    };\r\n    Scroller.prototype.updatePositions = function (pos) {\r\n        this.scrollBehaviorX.updatePosition(pos.x);\r\n        this.scrollBehaviorY.updatePosition(pos.y);\r\n    };\r\n    Scroller.prototype.getCurrentPos = function () {\r\n        return this.actions.getCurrentPos();\r\n    };\r\n    Scroller.prototype.enable = function () {\r\n        this.actions.enabled = true;\r\n    };\r\n    Scroller.prototype.disable = function () {\r\n        cancelAnimationFrame(this.animater.timer);\r\n        this.actions.enabled = false;\r\n    };\r\n    Scroller.prototype.destroy = function () {\r\n        var _this = this;\r\n        var keys = [\r\n            'resizeRegister',\r\n            'transitionEndRegister',\r\n            'actionsHandler',\r\n            'actions',\r\n            'hooks',\r\n            'animater',\r\n            'translater',\r\n            'scrollBehaviorX',\r\n            'scrollBehaviorY',\r\n        ];\r\n        keys.forEach(function (key) { return _this[key].destroy(); });\r\n    };\r\n    return Scroller;\r\n}());\n\nvar BScrollConstructor = /** @class */ (function (_super) {\r\n    __extends(BScrollConstructor, _super);\r\n    function BScrollConstructor(el, options) {\r\n        var _this = _super.call(this, [\r\n            'refresh',\r\n            'contentChanged',\r\n            'enable',\r\n            'disable',\r\n            'beforeScrollStart',\r\n            'scrollStart',\r\n            'scroll',\r\n            'scrollEnd',\r\n            'scrollCancel',\r\n            'touchEnd',\r\n            'flick',\r\n            'destroy',\r\n        ]) || this;\r\n        var wrapper = getElement(el);\r\n        if (!wrapper) {\r\n            warn('Can not resolve the wrapper DOM.');\r\n            return _this;\r\n        }\r\n        _this.plugins = {};\r\n        _this.options = new OptionsConstructor().merge(options).process();\r\n        if (!_this.setContent(wrapper).valid) {\r\n            return _this;\r\n        }\r\n        _this.hooks = new EventEmitter([\r\n            'refresh',\r\n            'enable',\r\n            'disable',\r\n            'destroy',\r\n            'beforeInitialScrollTo',\r\n            'contentChanged',\r\n        ]);\r\n        _this.init(wrapper);\r\n        return _this;\r\n    }\r\n    BScrollConstructor.use = function (ctor) {\r\n        var name = ctor.pluginName;\r\n        var installed = BScrollConstructor.plugins.some(function (plugin) { return ctor === plugin.ctor; });\r\n        if (installed)\r\n            return BScrollConstructor;\r\n        if (isUndef(name)) {\r\n            warn(\"Plugin Class must specify plugin's name in static property by 'pluginName' field.\");\r\n            return BScrollConstructor;\r\n        }\r\n        if (BScrollConstructor.pluginsMap[name]) {\r\n            warn(\"This plugin has been registered, maybe you need change plugin's name\");\r\n            return BScrollConstructor;\r\n        }\r\n        BScrollConstructor.pluginsMap[name] = true;\r\n        BScrollConstructor.plugins.push({\r\n            name: name,\r\n            applyOrder: ctor.applyOrder,\r\n            ctor: ctor,\r\n        });\r\n        return BScrollConstructor;\r\n    };\r\n    BScrollConstructor.prototype.setContent = function (wrapper) {\r\n        var contentChanged = false;\r\n        var valid = true;\r\n        var content = wrapper.children[this.options.specifiedIndexAsContent];\r\n        if (!content) {\r\n            warn('The wrapper need at least one child element to be content element to scroll.');\r\n            valid = false;\r\n        }\r\n        else {\r\n            contentChanged = this.content !== content;\r\n            if (contentChanged) {\r\n                this.content = content;\r\n            }\r\n        }\r\n        return {\r\n            valid: valid,\r\n            contentChanged: contentChanged,\r\n        };\r\n    };\r\n    BScrollConstructor.prototype.init = function (wrapper) {\r\n        var _this = this;\r\n        this.wrapper = wrapper;\r\n        // mark wrapper to recognize bs instance by DOM attribute\r\n        wrapper.isBScrollContainer = true;\r\n        this.scroller = new Scroller(wrapper, this.content, this.options);\r\n        this.scroller.hooks.on(this.scroller.hooks.eventTypes.resize, function () {\r\n            _this.refresh();\r\n        });\r\n        this.eventBubbling();\r\n        this.handleAutoBlur();\r\n        this.enable();\r\n        this.proxy(propertiesConfig);\r\n        this.applyPlugins();\r\n        // maybe boundary has changed, should refresh\r\n        this.refreshWithoutReset(this.content);\r\n        var _a = this.options, startX = _a.startX, startY = _a.startY;\r\n        var position = {\r\n            x: startX,\r\n            y: startY,\r\n        };\r\n        // maybe plugins want to control scroll position\r\n        if (this.hooks.trigger(this.hooks.eventTypes.beforeInitialScrollTo, position)) {\r\n            return;\r\n        }\r\n        this.scroller.scrollTo(position.x, position.y);\r\n    };\r\n    BScrollConstructor.prototype.applyPlugins = function () {\r\n        var _this = this;\r\n        var options = this.options;\r\n        BScrollConstructor.plugins\r\n            .sort(function (a, b) {\r\n            var _a;\r\n            var applyOrderMap = (_a = {},\r\n                _a[\"pre\" /* Pre */] = -1,\r\n                _a[\"post\" /* Post */] = 1,\r\n                _a);\r\n            var aOrder = a.applyOrder ? applyOrderMap[a.applyOrder] : 0;\r\n            var bOrder = b.applyOrder ? applyOrderMap[b.applyOrder] : 0;\r\n            return aOrder - bOrder;\r\n        })\r\n            .forEach(function (item) {\r\n            var ctor = item.ctor;\r\n            if (options[item.name] && typeof ctor === 'function') {\r\n                _this.plugins[item.name] = new ctor(_this);\r\n            }\r\n        });\r\n    };\r\n    BScrollConstructor.prototype.handleAutoBlur = function () {\r\n        if (this.options.autoBlur) {\r\n            this.on(this.eventTypes.beforeScrollStart, function () {\r\n                var activeElement = document.activeElement;\r\n                if (activeElement &&\r\n                    (activeElement.tagName === 'INPUT' ||\r\n                        activeElement.tagName === 'TEXTAREA')) {\r\n                    activeElement.blur();\r\n                }\r\n            });\r\n        }\r\n    };\r\n    BScrollConstructor.prototype.eventBubbling = function () {\r\n        bubbling(this.scroller.hooks, this, [\r\n            this.eventTypes.beforeScrollStart,\r\n            this.eventTypes.scrollStart,\r\n            this.eventTypes.scroll,\r\n            this.eventTypes.scrollEnd,\r\n            this.eventTypes.scrollCancel,\r\n            this.eventTypes.touchEnd,\r\n            this.eventTypes.flick,\r\n        ]);\r\n    };\r\n    BScrollConstructor.prototype.refreshWithoutReset = function (content) {\r\n        this.scroller.refresh(content);\r\n        this.hooks.trigger(this.hooks.eventTypes.refresh, content);\r\n        this.trigger(this.eventTypes.refresh, content);\r\n    };\r\n    BScrollConstructor.prototype.proxy = function (propertiesConfig) {\r\n        var _this = this;\r\n        propertiesConfig.forEach(function (_a) {\r\n            var key = _a.key, sourceKey = _a.sourceKey;\r\n            propertiesProxy(_this, sourceKey, key);\r\n        });\r\n    };\r\n    BScrollConstructor.prototype.refresh = function () {\r\n        var _a = this.setContent(this.wrapper), contentChanged = _a.contentChanged, valid = _a.valid;\r\n        if (valid) {\r\n            var content = this.content;\r\n            this.refreshWithoutReset(content);\r\n            if (contentChanged) {\r\n                this.hooks.trigger(this.hooks.eventTypes.contentChanged, content);\r\n                this.trigger(this.eventTypes.contentChanged, content);\r\n            }\r\n            this.scroller.resetPosition();\r\n        }\r\n    };\r\n    BScrollConstructor.prototype.enable = function () {\r\n        this.scroller.enable();\r\n        this.hooks.trigger(this.hooks.eventTypes.enable);\r\n        this.trigger(this.eventTypes.enable);\r\n    };\r\n    BScrollConstructor.prototype.disable = function () {\r\n        this.scroller.disable();\r\n        this.hooks.trigger(this.hooks.eventTypes.disable);\r\n        this.trigger(this.eventTypes.disable);\r\n    };\r\n    BScrollConstructor.prototype.destroy = function () {\r\n        this.hooks.trigger(this.hooks.eventTypes.destroy);\r\n        this.trigger(this.eventTypes.destroy);\r\n        this.scroller.destroy();\r\n    };\r\n    BScrollConstructor.prototype.eventRegister = function (names) {\r\n        this.registerType(names);\r\n    };\r\n    BScrollConstructor.plugins = [];\r\n    BScrollConstructor.pluginsMap = {};\r\n    return BScrollConstructor;\r\n}(EventEmitter));\r\nfunction createBScroll(el, options) {\r\n    var bs = new BScrollConstructor(el, options);\r\n    return bs;\r\n}\r\ncreateBScroll.use = BScrollConstructor.use;\r\ncreateBScroll.plugins = BScrollConstructor.plugins;\r\ncreateBScroll.pluginsMap = BScrollConstructor.pluginsMap;\r\nvar BScroll = createBScroll;\n\nexport default BScroll;\nexport { Behavior, CustomOptions, createBScroll };\n","/*!\n * better-scroll / nested-scroll\n * (c) 2016-2020 ustbhuangyi\n * Released under the MIT License.\n */\nvar compatibleFeatures = {\r\n    duplicateClick: function (_a) {\r\n        var parentScroll = _a[0], childScroll = _a[1];\r\n        // no need to make childScroll's click true\r\n        if (parentScroll.options.click && childScroll.options.click) {\r\n            childScroll.options.click = false;\r\n        }\r\n    },\r\n    nestedScroll: function (scrollsPair) {\r\n        var parentScroll = scrollsPair[0], childScroll = scrollsPair[1];\r\n        var parentScrollX = parentScroll.options.scrollX;\r\n        var parentScrollY = parentScroll.options.scrollY;\r\n        var childScrollX = childScroll.options.scrollX;\r\n        var childScrollY = childScroll.options.scrollY;\r\n        // vertical nested in vertical scroll and horizontal nested in horizontal\r\n        // otherwise, no need to handle.\r\n        if (parentScrollX === childScrollX || parentScrollY === childScrollY) {\r\n            scrollsPair.forEach(function (scroll, index) {\r\n                var oppositeScroll = scrollsPair[(index + 1) % 2];\r\n                scroll.on(scroll.eventTypes.beforeScrollStart, function () {\r\n                    if (oppositeScroll.pending) {\r\n                        oppositeScroll.stop();\r\n                        oppositeScroll.resetPosition();\r\n                    }\r\n                    setupData(oppositeScroll);\r\n                    oppositeScroll.disable();\r\n                });\r\n                scroll.on(scroll.eventTypes.touchEnd, function () {\r\n                    oppositeScroll.enable();\r\n                });\r\n            });\r\n            childScroll.on(childScroll.eventTypes.scrollStart, function () {\r\n                if (checkBeyondBoundary(childScroll)) {\r\n                    childScroll.disable();\r\n                    parentScroll.enable();\r\n                }\r\n            });\r\n        }\r\n    }\r\n};\r\nvar NestedScroll = /** @class */ (function () {\r\n    function NestedScroll(scroll) {\r\n        var singleton = NestedScroll.nestedScroll;\r\n        if (!(singleton instanceof NestedScroll)) {\r\n            singleton = NestedScroll.nestedScroll = this;\r\n            singleton.stores = [];\r\n        }\r\n        singleton.setup(scroll);\r\n        singleton.addHooks(scroll);\r\n        return singleton;\r\n    }\r\n    NestedScroll.prototype.setup = function (scroll) {\r\n        this.appendBScroll(scroll);\r\n        this.handleContainRelationship();\r\n        this.handleCompatible();\r\n    };\r\n    NestedScroll.prototype.addHooks = function (scroll) {\r\n        var _this = this;\r\n        scroll.on('destroy', function () {\r\n            _this.teardown(scroll);\r\n        });\r\n    };\r\n    NestedScroll.prototype.teardown = function (scroll) {\r\n        this.removeBScroll(scroll);\r\n        this.handleContainRelationship();\r\n        this.handleCompatible();\r\n    };\r\n    NestedScroll.prototype.appendBScroll = function (scroll) {\r\n        this.stores.push(scroll);\r\n    };\r\n    NestedScroll.prototype.removeBScroll = function (scroll) {\r\n        var index = this.stores.indexOf(scroll);\r\n        if (index === -1) {\r\n            return;\r\n        }\r\n        scroll.wrapper.isBScrollContainer = undefined;\r\n        this.stores.splice(index, 1);\r\n    };\r\n    NestedScroll.prototype.handleContainRelationship = function () {\r\n        // bs's length <= 1\r\n        var stores = this.stores;\r\n        if (stores.length <= 1) {\r\n            // there is only a childBScroll left.\r\n            if (stores[0] && stores[0].__parentInfo) {\r\n                stores[0].__parentInfo = undefined;\r\n            }\r\n            return;\r\n        }\r\n        var outerBS;\r\n        var outerBSWrapper;\r\n        var innerBS;\r\n        var innerBSWrapper;\r\n        // Need two layers of \"For loop\" to calculate parent-child relationship\r\n        for (var i = 0; i < stores.length; i++) {\r\n            outerBS = stores[i];\r\n            outerBSWrapper = outerBS.wrapper;\r\n            for (var j = 0; j < stores.length; j++) {\r\n                innerBS = stores[j];\r\n                innerBSWrapper = innerBS.wrapper;\r\n                // same bs\r\n                if (outerBS === innerBS)\r\n                    continue;\r\n                // now start calculating\r\n                if (!innerBSWrapper.contains(outerBSWrapper))\r\n                    continue;\r\n                // now innerBS contains outerBS\r\n                // no parentInfo yet\r\n                if (!outerBS.__parentInfo) {\r\n                    outerBS.__parentInfo = {\r\n                        parent: innerBS,\r\n                        depth: calculateDepths(outerBSWrapper, innerBSWrapper)\r\n                    };\r\n                }\r\n                else {\r\n                    // has parentInfo already!\r\n                    // just judge the \"true\" parent by depth\r\n                    // we regard the latest node as parent, not the furthest\r\n                    var currentDepths = calculateDepths(outerBSWrapper, innerBSWrapper);\r\n                    var prevDepths = outerBS.__parentInfo.depth;\r\n                    // refresh currentBS as parentScroll\r\n                    if (prevDepths > currentDepths) {\r\n                        outerBS.__parentInfo = {\r\n                            parent: innerBS,\r\n                            depth: currentDepths\r\n                        };\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    NestedScroll.prototype.handleCompatible = function () {\r\n        var pairs = this.availableBScrolls();\r\n        var keys = ['duplicateClick', 'nestedScroll'];\r\n        pairs.forEach(function (pair) {\r\n            keys.forEach(function (key) {\r\n                compatibleFeatures[key](pair);\r\n            });\r\n        });\r\n    };\r\n    NestedScroll.prototype.availableBScrolls = function () {\r\n        var ret = [];\r\n        ret = this.stores\r\n            .filter(function (bs) { return !!bs.__parentInfo; })\r\n            .map(function (bs) { return [bs.__parentInfo.parent, bs]; });\r\n        return ret;\r\n    };\r\n    NestedScroll.pluginName = 'nestedScroll';\r\n    return NestedScroll;\r\n}());\r\nfunction calculateDepths(childNode, parentNode) {\r\n    var depth = 0;\r\n    var parent = childNode.parentNode;\r\n    while (parent && parent !== parentNode) {\r\n        depth++;\r\n        parent = parent.parentNode;\r\n    }\r\n    return depth;\r\n}\r\nfunction checkBeyondBoundary(scroll) {\r\n    var _a = hasScroll(scroll), hasHorizontalScroll = _a.hasHorizontalScroll, hasVerticalScroll = _a.hasVerticalScroll;\r\n    var _b = scroll.scroller, scrollBehaviorX = _b.scrollBehaviorX, scrollBehaviorY = _b.scrollBehaviorY;\r\n    var hasReachLeft = scroll.x >= scroll.minScrollX && scrollBehaviorX.movingDirection === -1;\r\n    var hasReachRight = scroll.x <= scroll.maxScrollX && scrollBehaviorX.movingDirection === 1;\r\n    var hasReachTop = scroll.y >= scroll.minScrollY && scrollBehaviorY.movingDirection === -1;\r\n    var hasReachBottom = scroll.y <= scroll.maxScrollY && scrollBehaviorY.movingDirection === 1;\r\n    if (hasVerticalScroll) {\r\n        return hasReachTop || hasReachBottom;\r\n    }\r\n    else if (hasHorizontalScroll) {\r\n        return hasReachLeft || hasReachRight;\r\n    }\r\n    return false;\r\n}\r\nfunction setupData(scroll) {\r\n    var _a = hasScroll(scroll), hasHorizontalScroll = _a.hasHorizontalScroll, hasVerticalScroll = _a.hasVerticalScroll;\r\n    var _b = scroll.scroller, actions = _b.actions, scrollBehaviorX = _b.scrollBehaviorX, scrollBehaviorY = _b.scrollBehaviorY;\r\n    actions.startTime = +new Date();\r\n    if (hasVerticalScroll) {\r\n        scrollBehaviorY.startPos = scrollBehaviorY.currentPos;\r\n    }\r\n    else if (hasHorizontalScroll) {\r\n        scrollBehaviorX.startPos = scrollBehaviorX.currentPos;\r\n    }\r\n}\r\nfunction hasScroll(scroll) {\r\n    return {\r\n        hasHorizontalScroll: scroll.hasHorizontalScroll,\r\n        hasVerticalScroll: scroll.hasVerticalScroll\r\n    };\r\n}\n\nexport default NestedScroll;\n","import _extends from \"@babel/runtime/helpers/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport Tooltip from '../tooltip';\nimport { ConfigContext } from '../config-provider';\nimport { getRenderPropValue } from '../_util/getRenderPropValue';\nvar Popover = /*#__PURE__*/React.forwardRef(function (_a, ref) {\n  var customizePrefixCls = _a.prefixCls,\n      title = _a.title,\n      content = _a.content,\n      otherProps = __rest(_a, [\"prefixCls\", \"title\", \"content\"]);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls;\n\n  var getOverlay = function getOverlay(prefixCls) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, title && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-title\")\n    }, getRenderPropValue(title)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-inner-content\")\n    }, getRenderPropValue(content)));\n  };\n\n  var prefixCls = getPrefixCls('popover', customizePrefixCls);\n  return /*#__PURE__*/React.createElement(Tooltip, _extends({}, otherProps, {\n    prefixCls: prefixCls,\n    ref: ref,\n    overlay: getOverlay(prefixCls)\n  }));\n});\nPopover.displayName = 'Popover';\nPopover.defaultProps = {\n  placement: 'top',\n  transitionName: 'zoom-big',\n  trigger: 'hover',\n  mouseEnterDelay: 0.1,\n  mouseLeaveDelay: 0.1,\n  overlayStyle: {}\n};\nexport default Popover;"],"sourceRoot":""}