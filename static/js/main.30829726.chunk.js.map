{"version":3,"sources":["utils/event.js","components/event.js","components/Action/index.js","components/Main/Left/index.js","components/Main/Right/index.js","components/Main/index.js","App.js","reportWebVitals.js","index.js"],"names":["Event","this","events","name","callback","push","off","filter","item","data","forEach","event_cancel","event_reset","event_msg","Action","handleCancel","trigger","handleReset","className","type","onClick","React","Component","oData","Left","on","cancel","reset","drag","o","ox","oy","sx","sy","mx","my","isMove","isOnce","move","event","pageX","clientX","document","body","scrollLeft","pageY","clientY","scrollTop","style","left","top","stop","parseInt","offsetLeft","offsetTop","console","log","onmousemove","onmouseup","onmousedown","stopPropagation","target","id","newData","length","alert","slice","Right","async","getElementsByClassName","Main","span","Header","Layout","Content","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.30829726.chunk.js","sourcesContent":["export default class Event {\n    constructor() {\n        this.events = {};\n    }\n\n    /**\n     * 注册一个自定义事件\n     * @param {String} name 自定义事件名称\n     * @param {Function} callback 回调函数\n     * @returns {Function} 返回注销该事件的方法\n     */\n    on(name, callback) {\n        if (!this.events[name]) {\n            this.events[name] = [];\n        }\n        this.events[name].push(callback);\n\n        return () => {\n            this.off(name, callback);\n        };\n    }\n\n    /**\n     * 注销自定义事件\n     * @param {String} name 要注销的自定义事件名称\n     * @param {Function} callback 要注销的回调函数 （如果注册的是匿名函数，则无法注销）\n     */\n    off(name, callback) {\n        if (this.events[name]) {\n            if (typeof callback === 'undefined') {\n                this.events[name] = [];\n            } else {\n                this.events[name] = this.events[name].filter((item) => callback !== item);\n            }\n        }\n    }\n\n    /**\n     * 触发自定义事件\n     * @param {String} name 要触发的自定义事件名称\n     * @param {Array} data 给回调的参数值\n     */\n    trigger(name, ...data) {\n        if (this.events[name]) {\n            this.events[name].forEach((callback) => callback(...data));\n        }\n    }\n}\n","import Event from \"../utils/event\";\n\n// 撤销事件\nconst event_cancel = new Event();\n\n// 重做\nconst event_reset = new Event();\n\n// 通知右侧\nconst event_msg = new Event();\n\nexport { event_cancel, event_reset,event_msg };","import React from 'react';\nimport \"./index.css\"\nimport { Button } from 'antd';\nimport { event_cancel,event_reset } from \"../event\";\n\nclass Action extends React.Component {\n\n    handleCancel = () => {\n        event_cancel.trigger(\"cacel\")\n    }\n\n    handleReset = () => {\n        event_reset.trigger(\"reset\")\n    }\n\n    render() {\n        return(\n            <div className=\"action\">\n                <Button type=\"default\" className=\"reset\" onClick={this.handleCancel}>撤销</Button>\n                <Button type=\"default\" onClick={this.handleReset}>重做</Button>\n            </div>\n\n        );\n    }\n}\n\nexport default Action;","import React from \"react\";\nimport \"./index.css\";\nimport { event_cancel, event_reset,event_msg } from \"../../event\";\n\nlet oData = {};\n\nclass Left extends React.Component {\n  componentDidMount() {\n    event_cancel.on(\"cacel\", this.cancel); // 撤销\n    event_reset.on(\"reset\", this.reset); // 重做\n\n    // 拖拽\n    this.drag();\n  }\n\n  drag() {\n    let o,\n      ox,\n      oy,\n      sx,\n      sy,\n      mx,\n      my,\n      isMove = false,\n      isOnce = true; // 定义备用变量\n\n    function move(event) {\n      if (!isMove) return;\n      // 鼠标移动处理函数\n      mx = event.pageX || event.clientX + document.body.scrollLeft;\n      // 计算鼠标指针的x轴距离\n      my = event.pageY || event.clientY + document.body.scrollTop;\n      event_msg.trigger(\"msg\",{\n        ox: ox + mx - sx,\n        oy: oy + my - sy\n      })\n      o.style.left = ox + mx - sx + \"px\"; // 定义拖动元素的x轴距离\n      o.style.top = oy + my - sy + \"px\"; // 定义拖动元素的y轴距离\n    }\n\n    function stop(event) {\n      isMove = false;\n      // 计算位置\n      ox = parseInt(o.offsetLeft); // 拖放元素的x轴坐标\n      oy = parseInt(o.offsetTop); // 拖放元素的y轴坐标\n      oData.data.push({\n        ox,\n        oy,\n      });\n      console.log(oData);\n      document.onmousemove = document.onmouseup = null;\n    }\n\n    // 定义鼠标事件处理函数\n    document.onmousedown = function (event) {\n      event.stopPropagation();\n      o = event.target;\n      const hasDrag = o.id;\n      if (hasDrag === \"drag\") {\n        isMove = true;\n        // 计算位置\n        ox = parseInt(o.offsetLeft); // 拖放元素的x轴坐标\n        oy = parseInt(o.offsetTop); // 拖放元素的y轴坐标\n        if (isOnce) {\n          oData = {\n            o,\n            data: [\n              {\n                ox,\n                oy,\n              },\n            ],\n          };\n          isOnce = false;\n        }\n        sx = event.pageX || event.clientX + document.body.scrollLeft;\n        // 计算鼠标指针的x轴距离\n        sy = event.pageY || event.clientY + document.body.scrollTop;\n        // o.onmousemove = throttle(move,300); // 注册鼠标移动事件处理函数\n        o.onmousemove = move; // 注册鼠标移动事件处理函数\n        o.onmouseup = stop; // 注册松开鼠标事件处理函数\n      }\n    };\n  }\n\n  cancel() {\n    const { o, data } = oData;\n    let newData = [];\n\n    if (data.length === 1) {\n      alert(\"已经到头了\");\n      newData = data\n    } else {\n      newData = data.slice(0, data.length - 1);\n    }\n    oData.data = newData;\n    const { ox, oy } = newData[newData.length - 1];\n    event_msg.trigger(\"msg\",{\n      ox,\n      oy\n    })\n    o.style.left = ox + \"px\"; // 定义拖动元素的x轴距离\n    o.style.top = oy + \"px\"; // 定义拖动元素的y轴距离\n  }\n\n  reset() {\n    const { o, data } = oData;\n    if(data.length === 1) {\n      alert(\"已经重置了\");\n      return\n    }\n    const { ox, oy } = data[0];\n    event_msg.trigger(\"msg\",{\n      ox,\n      oy\n    })\n    oData.data = [data[0]];\n    o.style.left = ox + \"px\"; // 定义拖动元素的x轴距离\n    o.style.top = oy + \"px\"; // 定义拖动元素的y轴距离\n  }\n\n  render() {\n    return (\n      <div className=\"left_com\">\n        <div className=\"rectangle_1\" id=\"drag\">\n          矩形1\n        </div>\n        {/* <div className=\"rectangle_2\">矩形2</div> */}\n      </div>\n    );\n  }\n}\n\nexport default Left;\n","import React from \"react\";\nimport \"./index.css\";\nimport { event_msg } from \"../../event\";\n\nclass Right extends React.Component {\n  componentDidMount(){\n    event_msg.on(\"msg\",this.async);\n  }\n\n  async(data) {\n    const o = document.getElementsByClassName(\"rectangle_ansyc_1\")[0];\n    const { ox, oy } = data;\n    o.style.left = ox + \"px\"; // 定义拖动元素的x轴距离\n    o.style.top = oy + \"px\"; // 定义拖动元素的y轴距离\n  }\n\n  render() {\n    return (\n      <div className=\"right_com\">\n        <div className=\"rectangle_ansyc_1\">矩形1</div>\n      </div>\n    );\n  }\n}\n\nexport default Right;\n","import React from \"react\";\nimport { Row, Col } from \"antd\";\nimport \"./index.css\"\nimport Left from \"./Left/index\"\nimport Right from \"./Right/index\";\n\nclass Main extends React.Component {\n  render() {\n    return (\n      <div className=\"main\">\n        <Row >\n          <Col span={12} className=\"left\">\n              <Left />\n          </Col>\n          <Col span={12} className=\"right\">\n              <Right />\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n\nexport default Main;\n","import \"./App.css\";\nimport { Layout } from \"antd\";\nimport Action from \"./components/Action/index\";\nimport Main from \"./components/Main/index\";\n\nconst { Header, Content } = Layout;\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <Layout>\n        <Header>Header</Header>\n        <Content>\n          <Action />\n          <Main />\n        </Content>\n      </Layout>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}